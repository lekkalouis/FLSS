<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Flippen Lekka Scan Station — v5 (cleaned + 100×150 print lock)</title>
<style>
  :root{
    --bg:#f5f7fb;
    --panel:#ffffff;
    --panel-muted:#f1f5f9;
    --panel-strong:#e2e8f0;
    --text:#0b1324;
    --text-muted:#5b6b7f;
    --accent:#6366f1;
    --accent-strong:#22d3ee;
    --accent-2:#f97316;
    --accent-3:#a855f7;
    --accent-soft:rgba(99,102,241,.12);
    --radius-lg:1rem;
    --radius-md:.7rem;
    --mono:ui-monospace,SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;
    --sans:-apple-system,BlinkMacSystemFont,"Inter",Roboto,"Segoe UI",system-ui,sans-serif;
    --shadow-soft:0 18px 40px rgba(15,23,42,.08);
    --shadow-strong:0 24px 60px rgba(15,23,42,.12);
    --print-scale:1.0; /* safe inner scaling for printers that overscan */
  }
  *{box-sizing:border-box}
  body{
    background:var(--bg);
    color:var(--text);
    font-family:var(--sans);
    min-height:100dvh;
    margin:0;
  }
  .flApp{
    min-height:100dvh;
    display:flex;
    flex-direction:column;
    gap:1rem;
    padding:0;
  }
  .flLayout{
    display:flex;
    flex-direction:column;
    align-items:stretch;
    gap:0;
    flex:1;
    min-height:100dvh;
  }
  .flSide{
    background:var(--panel);
    border:1px solid var(--panel-strong);
    box-shadow:var(--shadow-soft);
    border-radius:0;
    padding:.8rem 1.2rem;
    display:flex;
    flex-direction:column;
    gap:.6rem;
    width:100%;
    backdrop-filter:blur(12px);
  }
  .flSideHeader{
    display:flex;
    align-items:center;
    justify-content:flex-start;
    gap:.75rem;
  }
  .flNav{
    display:flex;
    flex-direction:row;
    gap:.75rem;
    align-items:center;
    justify-content:space-between;
  }
  .flNavTitle{
    font-weight:700;
    letter-spacing:.02em;
    color:#1f2a44;
    font-size:.95rem;
  }
  .flNavGroup{
    display:flex;
    flex-direction:row;
    flex-wrap:wrap;
    gap:.55rem;
  }
  .flNavBtn{
    border:1px solid var(--panel-strong);
    background:var(--panel);
    color:var(--text);
    font-weight:600;
    font-size:.85rem;
    padding:.55rem .9rem;
    border-radius:.75rem;
    cursor:pointer;
    transition:all .2s ease;
    text-decoration:none;
    display:inline-flex;
    align-items:center;
    width:auto;
    justify-content:flex-start;
    gap:.5rem;
  }
  .flNavBtnIcon{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    width:1.2rem;
    font-size:1rem;
  }
  .flNavBtn:hover{
    border-color:rgba(99,102,241,.45);
    color:#4338ca;
    transform:translateY(-1px);
    box-shadow:0 8px 18px rgba(67,56,202,.12);
  }
  .flNavBtn--active{
    background:linear-gradient(130deg, var(--accent), var(--accent-strong));
    border-color:transparent;
    color:#0f172a;
    box-shadow:0 12px 30px rgba(67,56,202,.25);
  }
  .flNavStatus{
    display:flex;
    align-items:center;
    gap:.6rem;
    flex-wrap:wrap;
  }
  .flMain{
    flex:1;
    display:flex;
    flex-direction:column;
    gap:1rem;
    padding:1.25rem 1.75rem 1.75rem;
  }
  @media (max-width:800px){
    .flMain{ padding:1rem; }
  }
  @media (max-width:900px){
    .flSide{
      padding:.75rem .8rem;
    }
    .flNav{
      flex-direction:column;
      align-items:stretch;
    }
    .flNavGroup{
      width:100%;
    }
    .flNavBtn{ flex:1; }
  }
  .actionFlash{
    font-size:.72rem;
    color:var(--text-muted);
    background:var(--panel-muted);
    border:1px solid var(--panel-strong);
    border-radius:var(--radius-md);
    padding:.3rem .55rem;
    opacity:.75;
    transition:opacity .2s ease;
  }
  .actionFlash--ok{ border-color:rgba(34,197,94,.55); color:#bbf7d0; }
  .actionFlash--warn{ border-color:rgba(251,191,36,.6); color:#fde68a; }
  .actionFlash--err{ border-color:rgba(248,113,113,.6); color:#fecaca; }
  .actionFlash--booked{
    color:#052e16;
    border-color:rgba(34,197,94,.85);
    background:linear-gradient(120deg, rgba(34,197,94,.9), rgba(74,222,128,.8));
    box-shadow:0 0 24px rgba(34,197,94,.55);
    animation:bookedFlash 1.2s ease-in-out 2;
  }
  @keyframes bookedFlash{
    0%{ transform:scale(1); opacity:.7; }
    35%{ transform:scale(1.06); opacity:1; }
    70%{ transform:scale(1); opacity:.85; }
    100%{ transform:scale(1); opacity:.7; }
  }
  .screenFlash{
    position:fixed;
    inset:0;
    pointer-events:none;
    opacity:0;
    z-index:999;
    mix-blend-mode:screen;
  }
  .screenFlash--success{
    background:rgba(34,197,94,.35);
    animation:screenFlash 0.65s ease;
  }
  .screenFlash--failure{
    background:rgba(248,113,113,.4);
    animation:screenFlash 0.65s ease;
  }
  .screenFlash--warn{
    background:rgba(249,115,22,.35);
    animation:screenFlash 0.65s ease;
  }
  @keyframes screenFlash{
    0%{ opacity:0; }
    20%{ opacity:1; }
    100%{ opacity:0; }
  }
  .flView{
    width:100%;
    flex:1;
  }
  .flView--active{
    display:flex;
    flex-direction:column;
  }
  .flView[hidden]{ display:none; }
  .flView .shell{ margin:0 auto; }
  .dashboardShell{
    width:100%;
    max-width:1200px;
    margin:0 auto;
    background:linear-gradient(180deg, rgba(255,255,255,.96), rgba(248,250,252,.92));
    border:1px solid rgba(99,102,241,.18);
    border-radius:var(--radius-lg);
    padding:1.75rem 2rem;
    box-shadow:var(--shadow-soft);
    display:flex;
    flex-direction:column;
    gap:1.5rem;
  }
  .dashboardHeader{
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:1rem;
    flex-wrap:wrap;
  }
  .dashboardHeader h1{
    font-size:1.3rem;
    margin:0 0 .35rem;
  }
  .dashboardHeader p{
    margin:0;
    color:var(--text-muted);
    font-size:.9rem;
  }
  .moduleGrid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(min(260px,100%),1fr));
    gap:1rem;
  }
  .dashboardKpis{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
    gap:1rem;
  }
  .kpiCard{
    background:linear-gradient(150deg, rgba(255,255,255,.98), rgba(224,231,255,.85));
    border:1px solid rgba(99,102,241,.2);
    border-radius:var(--radius-lg);
    padding:1rem 1.1rem;
    display:flex;
    flex-direction:column;
    gap:.35rem;
    box-shadow:0 12px 26px rgba(67,56,202,.15);
  }
  .kpiLabel{
    font-size:.7rem;
    text-transform:uppercase;
    letter-spacing:.08em;
    color:var(--text-muted);
  }
  .kpiValue{
    font-size:1.6rem;
    font-weight:700;
  }
  .kpiMeta{
    font-size:.75rem;
    color:var(--text-muted);
  }
  .appsHeader{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:.75rem;
    flex-wrap:wrap;
  }
  .appsHeader h2{
    margin:0;
    font-size:1.05rem;
  }
  .appsMeta{
    font-size:.75rem;
    color:var(--text-muted);
  }
  .moduleCard{
    border:1px solid rgba(99,102,241,.2);
    border-radius:var(--radius-lg);
    padding:1rem;
    background:rgba(255,255,255,.94);
    display:flex;
    flex-direction:column;
    gap:.75rem;
    box-shadow:0 12px 26px rgba(15,23,42,.08);
    transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
  }
  .moduleCard:hover{
    transform:translateY(-2px);
    border-color:rgba(99,102,241,.4);
    box-shadow:0 18px 36px rgba(99,102,241,.2);
  }
  .moduleCardHeader{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:.75rem;
  }
  .moduleCardTitle{
    font-weight:700;
    font-size:.95rem;
    margin:0;
  }
  .moduleCardTag{
    font-size:.65rem;
    font-weight:700;
    text-transform:uppercase;
    letter-spacing:.05em;
    background:rgba(99,102,241,.15);
    color:#3730a3;
    border-radius:999px;
    padding:.2rem .55rem;
  }
  .moduleCardDesc{
    font-size:.82rem;
    color:var(--text-muted);
    margin:0;
    line-height:1.4;
  }
  .moduleCardActions{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:.75rem;
  }
  .moduleMeta{
    font-family:var(--mono);
    font-size:.72rem;
    color:var(--text-muted);
  }
  .moduleOpenBtn{
    border:1px solid rgba(99,102,241,.45);
    background:rgba(99,102,241,.12);
    color:#4338ca;
    font-weight:700;
    font-size:.8rem;
    padding:.4rem .8rem;
    border-radius:.6rem;
    cursor:pointer;
  }
  .moduleOpenBtn:hover{
    background:rgba(99,102,241,.2);
  }
  .statusBar{
    display:flex;
    align-items:center;
    gap:.4rem;
    flex-wrap:wrap;
    padding:.35rem .65rem;
    border-radius:var(--radius-md);
    border:1px solid var(--panel-strong);
    background:var(--panel);
    box-shadow:0 16px 32px rgba(15,23,42,.08);
    font-size:.64rem;
    color:var(--text-muted);
  }
  .statusBarLabel{
    font-weight:600;
    text-transform:uppercase;
    letter-spacing:.06em;
    font-size:.58rem;
    color:var(--text-muted);
  }
  .statusPill{
    display:inline-flex;
    align-items:center;
    gap:.28rem;
    border-radius:999px;
    padding:.18rem .45rem;
    border:1px solid rgba(99,102,241,.2);
    background:var(--panel-muted);
    color:var(--text);
    font-weight:600;
    font-size:.62rem;
  }
  .statusPillDot{
    width:6px;
    height:6px;
    border-radius:999px;
    background:var(--panel-strong);
  }
  .statusPill--ok{
    border-color:rgba(34,197,94,.45);
    background:rgba(34,197,94,.12);
    color:#065f46;
  }
  .statusPill--ok .statusPillDot{ background:#22c55e; }
  .statusPill--err{
    border-color:rgba(248,113,113,.5);
    background:rgba(248,113,113,.12);
    color:#991b1b;
  }
  .statusPill--err .statusPillDot{ background:#ef4444; }
  .statusPill--warn{
    border-color:rgba(251,191,36,.55);
    background:rgba(251,191,36,.12);
    color:#92400e;
  }
  .statusPill--warn .statusPillDot{ background:#f59e0b; }
  .shell{
    width:100%;
    max-width:none;
    background:var(--panel);
    border:1px solid var(--panel-strong);
    border-radius:var(--radius-lg);
    box-shadow:0 24px 60px rgba(15,23,42,.08);
    display:grid;
    grid-template-columns:1fr 1fr;
    overflow:hidden;
    min-height:calc(100dvh - 160px);
  }
  @media (max-width:1000px){ .shell{ grid-template-columns:1fr; } }

  /* LEFT */
  .leftPane{
    background:var(--panel);
    padding:1.5rem;
    border-right:1px solid var(--panel-strong);
  }
  @media (max-width:1000px){ .leftPane{ border-right:0; border-bottom:1px solid rgba(148,163,184,.15);} }
  .headerRow{ display:flex; align-items:flex-start; justify-content:space-between; gap:.75rem; flex-wrap:wrap; margin-bottom:.75rem; }
  .line1{ font-size:.95rem; font-weight:700; color:var(--text); display:flex; gap:.5rem 1rem; align-items:center; flex-wrap:wrap; }
  .badge{ background:rgba(34,211,238,.12); border:1px solid rgba(34,211,238,.5); color:#0e7490; font-size:1.1rem; border-radius:var(--radius-md); padding:.2rem .45rem; }
  .sessionInfo{ font-size:.8rem; color:var(--text-muted); line-height:1.4; font-family:var(--mono);} 
  .scanBox,.addrBox,.card{ background:var(--panel); border:1px solid var(--panel-strong); border-radius:var(--radius-md); padding:.85rem; }
  .dispatchTopBar{
    display:flex;
    flex-direction:column;
    gap:1rem;
    background:var(--panel);
    border-radius:var(--radius-lg);
    border:1px solid var(--panel-strong);
    padding:1rem 1.25rem;
    box-shadow:var(--shadow-soft);
  }
  .dispatchTopRow{
    display:flex;
    align-items:center;
    gap:1rem;
    flex-wrap:wrap;
  }
  .dispatchHeading{
    font-weight:800;
    font-size:1.05rem;
    letter-spacing:.01em;
  }
  .dispatchScanField{
    display:flex;
    flex-direction:column;
    gap:.35rem;
    min-width:280px;
    flex:1;
  }
  .dispatchScanField label{
    font-size:.72rem;
    text-transform:uppercase;
    letter-spacing:.08em;
    color:var(--text-muted);
  }
  #scanInput{ width:100%; background:#fff; border:1px solid var(--panel-strong); border-radius:var(--radius-md); color:var(--text); font-family:var(--mono); font-size:1rem; outline:none; padding:.55rem .7rem; }
  #scanInput:focus{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(34,211,238,.2); }
  .dispatchTopActions{
    display:flex;
    align-items:center;
    gap:.6rem;
    flex-wrap:wrap;
  }
  .btn--compact{
    font-size:.7rem;
    padding:.35rem .6rem;
  }
  .dispatchExpandToggle{
    border:1px solid rgba(99,102,241,.4);
    background:rgba(99,102,241,.12);
    color:#312e81;
  }
  .dispatchTopDetails{
    display:none;
    border-top:1px solid var(--panel-strong);
    padding-top:1rem;
    gap:1rem;
  }
  #viewScan.dispatchExpanded .dispatchTopDetails{
    display:grid;
  }
  .dispatchDetailGrid{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
    gap:.85rem;
  }
  .dispatchDetailCard{
    background:var(--panel-muted);
    border:1px solid var(--panel-strong);
    border-radius:var(--radius-md);
    padding:.75rem .85rem;
    display:flex;
    flex-direction:column;
    gap:.35rem;
  }
  .dispatchDetailLabel{
    font-size:.7rem;
    text-transform:uppercase;
    letter-spacing:.08em;
    color:var(--text-muted);
    font-weight:700;
  }
  .dispatchDetailValue{
    font-size:.9rem;
    font-weight:700;
  }
  .dispatchDetailAddress{
    grid-column:1/-1;
  }
  .dispatchDetailAddress .dispatchDetailValue{
    font-weight:500;
    white-space:pre-line;
    font-size:.85rem;
  }
  .dispatchTopPanels{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(260px, 1fr));
    gap:.85rem;
  }
  .dispatchTruckIndicator{
    margin-left:auto;
    display:flex;
    align-items:center;
    gap:.75rem;
  }
  .dispatchTruckButton{
    display:flex;
    align-items:center;
    gap:.5rem;
    border:1px solid rgba(239,68,68,.6);
    background:rgba(239,68,68,.08);
    color:#b91c1c;
    border-radius:999px;
    padding:.4rem .75rem;
    font-weight:700;
    font-size:.72rem;
    text-transform:uppercase;
    letter-spacing:.06em;
    cursor:pointer;
  }
  .dispatchTruckButton.is-booked{
    border-color:rgba(34,197,94,.6);
    background:rgba(34,197,94,.12);
    color:#047857;
  }
  .dispatchTruckIcon{
    width:18px;
    height:18px;
    display:inline-flex;
  }
  .dispatchTruckMeta{
    display:flex;
    align-items:center;
    gap:.35rem;
    font-size:.72rem;
    color:var(--text-muted);
  }
  .dispatchTruckBox{
    display:inline-flex;
    align-items:center;
    gap:.35rem;
    font-weight:700;
    color:var(--text);
  }
  .btn{
    border:1px solid rgba(99,102,241,.45);
    background:rgba(99,102,241,.12);
    color:#0f172a;
    font-weight:700;
    font-size:.85rem;
    padding:.55rem .9rem;
    border-radius:.7rem;
    cursor:pointer;
    transition:transform .15s ease, box-shadow .15s ease;
  }
  .btn:hover{ transform:translateY(-1px); box-shadow:0 8px 16px rgba(99,102,241,.2); }
  .btnPrimary{
    background:linear-gradient(120deg, var(--accent), var(--accent-3));
    border-color:transparent;
    color:#fff;
  }
  .btnToggle{
    background:rgba(249,115,22,.12);
    border-color:rgba(249,115,22,.5);
    color:#9a3412;
  }
  .btnToggle.is-active{
    background:#16a34a;
    border-color:#16a34a;
    color:#fff;
    box-shadow:0 8px 18px rgba(22,163,74,.25);
  }

  /* Address picker */
  .addrBox{ margin-bottom:1rem; }
  .addrBox .row{ display:flex; gap:.5rem; align-items:center; margin-bottom:.5rem; }
  .addrBox label{ font-size:.75rem; color:var(--text-muted); display:block; margin-bottom:.35rem; }
  #addrSearch,#placeCode{ flex:1; background:#fff; border:1px solid var(--panel-strong); border-radius:var(--radius-md); color:var(--text); font-family:var(--mono); font-size:.9rem; padding:.4rem .6rem; outline:none; }
  #addrSearch:focus,#placeCode:focus{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(34,211,238,.2); }
  #placeCode{ width:140px; }
  .addrList{ max-height:160px; overflow:auto; border:1px solid var(--panel-strong); border-radius:var(--radius-md); background:var(--panel); }
  .addrItem{ padding:.5rem; border-bottom:1px solid rgba(148,163,184,.3); font-size:.74rem; cursor:pointer; color:var(--text); }
  .addrItem:hover{ background:rgba(34,211,238,.1); }
  .addrHint{ font-size:.7rem; color:var(--text-muted); margin-top:.35rem; }

  /* Small cards */
  .minigrid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(min(260px,100%),1fr)); gap:.75rem; }
  .cardHeader{ font-size:.7rem; color:var(--text-muted); font-weight:700; margin-bottom:.5rem; }
  .cardBody{ font-family:var(--mono); font-size:1.72rem; line-height:1.4; color:var(--text); white-space:pre-wrap; word-break:break-word; }
  #debugLog{ display:none; background:rgba(127,29,29,.2); border:1px solid rgba(248,113,113,.4); color:#fecaca; font-family:var(--mono); font-size:.7rem; line-height:1.4; border-radius:var(--radius-md); padding:.75rem; margin-top:1rem; max-height:180px; overflow:auto; white-space:pre-wrap; }

  /* RIGHT */
  .rightPane{
    padding:1.5rem;
    display:flex;
    flex-direction:column;
    background:var(--panel);
  }
  .sectionTitle{ font-size:.82rem; color:var(--text); font-weight:700; display:flex; justify-content:space-between; gap:.5rem 1rem; margin-bottom:.6rem; }

  .truckPanel{
    background:var(--panel);
    border:1px solid var(--panel-strong);
    border-radius:var(--radius-lg);
    padding:1rem;
    display:flex;
    flex-direction:column;
    gap:.85rem;
    box-shadow:0 12px 28px rgba(15,23,42,.1);
    margin-bottom:1rem;
  }
  .truckHeader{
    display:flex;
    justify-content:space-between;
    align-items:flex-start;
    gap:1rem;
  }
  .truckTitle{
    font-size:.95rem;
    font-weight:700;
    color:var(--text);
  }
  .truckMeta{
    font-size:.75rem;
    color:var(--text-muted);
    margin-top:.35rem;
  }
  .truckStatus{
    font-size:.7rem;
    font-weight:700;
    text-transform:uppercase;
    letter-spacing:.08em;
    padding:.35rem .6rem;
    border-radius:999px;
    border:1px solid rgba(239,68,68,.5);
    color:#991b1b;
    background:rgba(239,68,68,.12);
  }
  .truckStatus.is-booked{
    border-color:rgba(34,197,94,.5);
    color:#065f46;
    background:rgba(34,197,94,.14);
  }
  .truckBookBtn{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:.75rem;
    font-size:1.2rem;
    font-weight:800;
    letter-spacing:.02em;
    padding:1rem 1.5rem;
    border-radius:1rem;
    border:2px solid rgba(99,102,241,.6);
    background:linear-gradient(135deg, rgba(99,102,241,.95), rgba(34,211,238,.95));
    color:#04121e;
    cursor:pointer;
    box-shadow:0 20px 36px rgba(67,56,202,.28);
    transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
  }
  .truckBookBtn:hover{
    transform:translateY(-1px) scale(1.01);
    filter:brightness(1.02);
  }
  .truckBookBtn.is-booked{
    border-color:rgba(34,197,94,.7);
    background:linear-gradient(135deg, rgba(34,197,94,.95), rgba(22,163,74,.95));
    box-shadow:0 18px 35px rgba(34,197,94,.28);
  }
  .truckIcon{
    font-size:1.6rem;
  }
  .truckHint{
    font-size:.72rem;
    color:var(--text-muted);
  }
  #modeToggle{
    border:1px solid rgba(99,102,241,.5);
    background:rgba(99,102,241,.12);
    color:#312e81;
    font-weight:700;
    font-size:.75rem;
    padding:.35rem .6rem;
    border-radius:.55rem;
    cursor:pointer;
  }
  .statusChip{ font-size:.62rem; background:var(--panel-muted); border:1px solid var(--panel-strong); border-radius:var(--radius-md); padding:.25rem .4rem; color:var(--text-muted); }
  .summaryCard{ background:var(--panel); border:1px solid var(--panel-strong); border-radius:var(--radius-md); padding:.75rem; margin-bottom:.8rem; font-family:var(--mono); font-size:.7rem; line-height:1.4; color:var(--text); white-space:pre-wrap; word-break:break-word; max-height:240px; overflow:auto; }
  .waybillSheetPreview{ background:#fff; color:#000; border-radius:var(--radius-md); padding:.75rem; font-family:var(--mono); font-size:.72rem; line-height:1.4; min-height:180px; overflow:auto; }

  /* ===== PRINT LOCK (100×150mm exact) ===== */
  @media print{
    @page{ size:100mm 150mm; margin:0; }
    html,body{ margin:0!important; padding:0!important; }
    .shell{ display:none!important; }
    .printSheetWrapper{ display:block!important; }
    .wb100x150{
      width:calc(100mm / var(--print-scale))!important;
      height:calc(150mm / var(--print-scale))!important;
      transform:scale(var(--print-scale)); transform-origin:top left;
      page-break-after:always; break-inside:avoid; overflow:hidden; background:#fff;
    }
    img{ print-color-adjust:exact; -webkit-print-color-adjust:exact; }
  }

  .printSheetWrapper{ display:none; padding:0; }
  .wbPreviewZoom{ display:inline-block; transform:scale(.6); transform-origin:top left; }

  /* ===== Waybill rubric (grid canvas) ===== */
  .wb100x150{
    box-sizing:border-box; padding:3mm 3.5mm; color:#000; font-family:var(--mono);
    display:grid; grid-template-rows:18mm auto 52mm; row-gap:2mm;
  }
  .wbHead{ display:grid; grid-template-columns:1fr auto; grid-template-rows:auto auto 1fr; column-gap:3mm; row-gap:1mm; }
  .wbHeadTitle{ grid-column:1/2; grid-row:1; font-size:3.6mm; line-height:1.2; font-weight:700; }
  .wbSvcImg{ grid-column:2/3; grid-row:1/span 3; justify-self:end; align-self:start; display:inline-flex; align-items:center; justify-content:center; padding:.5mm 1mm; overflow:hidden; }
  .wbSvcFallback{ font-weight:700; font-size:3mm; letter-spacing:.2mm; }
 .wbTopCode svg{
  max-width:100%;
  height:auto;
  display:block;
}
.wbTopCode{ grid-column:1/2; grid-row:1; display:flex; flex-direction:column; align-items:left; gap:0mm; }
  .wbTopHuman{ font-size:4.2mm; font-weight:700; }

  .wbBody{ display:grid;  gap:2mm 3mm; margin-top:2mm; }
  .wbFrom,.wbTo{ border:1px solid #000; border-radius:1mm; padding:2mm; font-size:3mm; line-height:1.32; background:#fff; }
  .wbTo{ background:#f7f7f7; }
  .wbBigCode{ grid-column:1/-1; border:1px solid #000; border-radius:1mm; padding:2mm; display:grid; grid-template-rows:auto 1fr auto; row-gap:1mm; }
  .wbBigHuman{ font-size:3.6mm; font-weight:700; text-align:center; }
  .wbBigCode svg{ width:100%; height:15mm; display:block; }
  .wbMetaRow{ display:flex; justify-content:space-between; font-size:3mm; }
  .wbFoot{ border-top:1px dashed #000; padding-top:2mm; display:grid; grid-template-columns:1fr; grid-auto-rows:minmax(0,1fr); row-gap:2mm; }
  .podBox{ border:1px solid #000; border-radius:1mm; padding:2mm; font-size:3.2mm; line-height:1.35; display:grid; grid-template-rows:auto auto auto auto; row-gap:2mm; margin:0 auto; width:300px; }
  .podTitle{  font-size: 12px; font-weight:700; }

/* === DISPATCH BOARD VIEW === */
  #dispatchBoardContainer {
  width:100%;
  display:flex;
  flex-direction:column;
  gap:.85rem;
  padding:1.25rem 1.5rem;
  border-radius:var(--radius-lg);
  background:var(--panel);
  border:1px solid var(--panel-strong);
  box-shadow:var(--shadow-soft);
  min-height:calc(100dvh - 160px);
}

.dispatchSelectionPanel{
  width:100%;
  border-radius:var(--radius-lg);
  border:1px solid var(--panel-strong);
  padding:.85rem 1rem;
  background:rgba(255,255,255,.98);
  box-shadow:0 18px 32px rgba(15,23,42,.12);
  display:flex;
  flex-direction:column;
  gap:.65rem;
}
.dispatchSelectionHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-size:.82rem;
  font-weight:700;
  color:#0f172a;
}
.dispatchSelectionActions{
  display:flex;
  gap:.4rem;
  align-items:center;
}
.dispatchSelectionClear{
  border-radius:999px;
  border:1px solid rgba(148,163,184,.7);
  background:#fff;
  color:#475569;
  font-size:.7rem;
  font-weight:600;
  padding:.2rem .6rem;
  cursor:pointer;
}
.dispatchSelectionClear:hover{
  border-color:rgba(56,189,248,.7);
  color:#0c4a6e;
}
.dispatchSelectionCount{
  font-size:.7rem;
  padding:.2rem .5rem;
  border-radius:999px;
  border:1px solid rgba(56,189,248,.4);
  background:rgba(56,189,248,.15);
  color:#075985;
}
.dispatchSelectionBody{
  display:flex;
  flex-direction:column;
  gap:.65rem;
  font-size:.72rem;
  color:var(--text);
}
.dispatchSelectionLabel{
  font-weight:700;
  color:#0f172a;
  margin-bottom:.35rem;
}
.dispatchSelectionList{
  display:flex;
  flex-direction:column;
  gap:.35rem;
  padding:.2rem .1rem;
}
.dispatchSelectionRow{
  display:flex;
  justify-content:space-between;
  gap:.6rem;
  padding:.3rem .35rem;
  border-radius:.45rem;
  background:rgba(148,163,184,.12);
  font-variant-numeric:tabular-nums;
}
.dispatchSelectionMeta{
  display:grid;
  gap:.3rem;
  font-variant-numeric:tabular-nums;
}
.dispatchSelectionPanel.is-hidden{
  display:none;
}

.dispatchSelectionBulkActions{
  display:grid;
  grid-template-columns:1fr;
  gap:.35rem;
}
.dispatchSelectionBtn{
  border:1px solid rgba(148,163,184,.7);
  background:#fff;
  color:#334155;
  font-size:.7rem;
  font-weight:700;
  padding:.35rem .55rem;
  border-radius:.5rem;
  cursor:pointer;
}
.dispatchSelectionBtn:hover{ border-color:rgba(56,189,248,.6); color:#0c4a6e; }
.dispatchSelectionBtn--primary{
  border-color:rgba(34,197,94,.55);
  background:rgba(34,197,94,.16);
  color:#065f46;
}
.dispatchLaneSelectAll{
  display:flex;
  align-items:center;
  gap:.3rem;
  font-size:.62rem;
  color:#0f172a;
  font-weight:700;
  text-transform:uppercase;
}
.dispatchColHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.5rem;
}
.dispatchCard.is-combined{
  border-width:2px;
  border-color:var(--combined-color, rgba(94,234,212,.8));
  box-shadow:0 0 0 1px color-mix(in srgb, var(--combined-color, #5eead4) 35%, transparent), 0 8px 16px rgba(15,23,42,.12);
}

.dispatchBoardLayout{
  display:flex;
  flex-direction:column;
  gap:.85rem;
  min-height:100%;
}
.dispatchBoardMain{
  display:flex;
  flex-direction:column;
  gap:.85rem;
}

.dispatchStatusPanel {
  display:flex;
  flex-direction:column;
  gap:.6rem;
  padding:.85rem 1rem;
  border-radius:var(--radius-lg);
  border:1px solid var(--panel-strong);
  background:var(--panel);
  box-shadow:0 18px 36px rgba(15,23,42,.08);
}
.dispatchStatusPanel--compact{
  padding:.65rem .8rem;
  gap:.5rem;
}
.dispatchStatusHeader {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
}
.dispatchStatusHeader h3{
  font-size:.9rem;
  margin:0;
  color:#0f172a;
}
.dispatchStatusLabel{
  font-size:.72rem;
  padding:.25rem .6rem;
  border-radius:999px;
  border:1px solid rgba(249,115,22,.45);
  background:rgba(249,115,22,.15);
  color:#9a3412;
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:.05em;
}
.dispatchProgressBar{
  position:relative;
  height:18px;
  border-radius:999px;
  overflow:hidden;
  background:linear-gradient(90deg, rgba(226,232,240,.9), rgba(148,163,184,.25));
  border:1px solid rgba(148,163,184,.5);
}
.dispatchProgressBar.is-pulse{
  animation:dispatchPulse .6s ease;
}
.dispatchProgressFill{
  position:absolute;
  inset:0;
  width:0%;
  background:linear-gradient(90deg, #f97316, #facc15, #22d3ee);
  box-shadow:0 0 14px rgba(251,191,36,.7);
  transition:width .5s ease;
}
.dispatchProgressSun{
  position:absolute;
  top:50%;
  right:12px;
  transform:translateY(-50%);
  width:26px;
  height:26px;
  border-radius:50%;
  background:radial-gradient(circle, rgba(254,240,138,.95), rgba(251,191,36,.95), rgba(249,115,22,.9));
  box-shadow:0 0 20px rgba(251,191,36,.85);
  pointer-events:none;
}
.dispatchProgressSteps{
  display:flex;
  flex-wrap:nowrap;
  justify-content:space-between;
  gap:.4rem;
  font-size:.7rem;
  color:var(--text-muted);
  width:100%;
}
.dispatchStatusPanel--compact .dispatchProgressSteps{
  font-size:.62rem;
}
.dispatchProgressStep{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:.35rem;
  padding:.25rem .2rem;
  border-radius:.5rem;
  border:1px solid var(--panel-strong);
  background:var(--panel-muted);
  flex:1 1 0;
  min-width:0;
  text-align:center;
}
.dispatchProgressDot{
  width:.55rem;
  height:.55rem;
  border-radius:50%;
  background:#cbd5f5;
}
.dispatchProgressStep.is-active{
  border-color:rgba(34,211,238,.8);
  background:rgba(34,211,238,.12);
  color:var(--text);
}
.dispatchProgressStep.is-active .dispatchProgressDot{
  background:#22d3ee;
  box-shadow:0 0 10px rgba(34,211,238,.8);
}
.dispatchProgressStep.is-complete{
  border-color:rgba(34,197,94,.6);
  background:rgba(34,197,94,.12);
  color:#065f46;
}
.dispatchProgressStep.is-complete .dispatchProgressDot{
  background:#22c55e;
  box-shadow:0 0 10px rgba(34,197,94,.65);
}
@keyframes dispatchPulse{
  0%{ transform:scaleX(1); }
  50%{ transform:scaleX(1.02); }
  100%{ transform:scaleX(1); }
}

.dispatchLogPanel{
  border:1px solid var(--panel-strong);
  border-radius:var(--radius-lg);
  background:var(--panel);
  padding:.75rem 1rem;
  box-shadow:0 14px 32px rgba(15,23,42,.08);
}
.dispatchLogPanel--compact{
  padding:.65rem .8rem;
}
.dispatchLogHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-size:.8rem;
  font-weight:700;
  color:var(--text);
  margin-bottom:.4rem;
}
.dispatchLog{
  max-height:180px;
  overflow:auto;
  font-size:.72rem;
  color:var(--text);
  line-height:1.4;
}
.dispatchLogPanel--compact .dispatchLog{
  max-height:140px;
}
.dispatchLogEntry{
  padding:.35rem .25rem;
  border-bottom:1px dashed rgba(148,163,184,.25);
  display:flex;
  gap:.5rem;
  align-items:flex-start;
}
.dispatchLogEntry:last-child{
  border-bottom:none;
}
.dispatchLogEntry span{
  font-family:var(--mono);
  color:var(--text-muted);
  min-width:75px;
}

/* lanes across the screen */
#dispatchBoardGrid {
  display: grid;
  grid-template-columns: repeat(6, minmax(260px, 1fr));
  gap: 1rem;
  padding: .35rem;
  min-height: 65vh;
  background:var(--panel-muted);
  overflow-x:auto;
}

/* column headers */
.dispatchColHeader {
  font-size: .9rem;
  font-weight: 700;
  color: #1e3a8a;
  margin-bottom: 0.4rem;
  text-transform: uppercase;
  letter-spacing: 0.6px;
}

/* cards in columns */
.dispatchCard {
  background: var(--panel);
  border: 1px solid var(--panel-strong);
  border-radius: 10px;
  padding: 0.6rem 0.65rem;
  margin-bottom: 0.6rem;
  box-shadow: 0 2px 6px rgba(15,23,42,0.08);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  cursor: pointer;
}
.dispatchCard--priority{
  border-color:rgba(34,197,94,.75);
  box-shadow:0 0 0 1px rgba(34,197,94,.2), 0 8px 18px rgba(34,197,94,.2);
}
.dispatchCard--medium{
  border-color:rgba(234,179,8,.75);
  box-shadow:0 0 0 1px rgba(234,179,8,.2), 0 8px 18px rgba(234,179,8,.18);
}
.dispatchCard--hold{
  border-color:rgba(239,68,68,.75);
  box-shadow:0 0 0 1px rgba(239,68,68,.2), 0 8px 18px rgba(239,68,68,.18);
}
.dispatchCard.is-selected{
  border-color: rgba(56,189,248,.6);
  box-shadow: 0 0 0 1px rgba(56,189,248,.25), 0 6px 14px rgba(56,189,248,.18);
}

.dispatchCard:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(34,211,238,0.18);
}

.dispatchCardTitle {
  font-weight: 600;
  font-size: 0.85rem;
  color: var(--text);
  margin-bottom: 0.2rem;
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:.5rem;
}
.dispatchCardTitleText{
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
}
.dispatchCardSelect{
  display:flex;
  align-items:center;
  gap:.25rem;
  font-size:.62rem;
  font-weight:700;
  color:#0f172a;
  text-transform:uppercase;
  letter-spacing:.04em;
}
.dispatchCardSelect input{
  width:.8rem;
  height:.8rem;
  accent-color:#38bdf8;
}

.dispatchCardMeta {
  font-size: 0.68rem;
  color: var(--text-muted);
  margin-bottom: 0.35rem;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.dispatchCardStatusDots{
  display:flex;
  align-items:center;
  gap:.32rem;
}
.dispatchCardStatusDot{
  width:.65rem;
  height:.65rem;
  border-radius:999px;
  border:none;
  cursor:pointer;
  opacity:.42;
  transform:scale(.95);
  transition:all .18s ease;
  box-shadow:0 0 0 1px rgba(15,23,42,.18);
}
.dispatchCardStatusDot:hover{
  opacity:.72;
}
.dispatchCardStatusDot--priority{ background:#22c55e; }
.dispatchCardStatusDot--medium{ background:#facc15; }
.dispatchCardStatusDot--hold{ background:#ef4444; }
.dispatchCardStatusDot.is-active{
  opacity:1;
  transform:scale(1.12);
}
.dispatchCardStatusDot--priority.is-active{ box-shadow:0 0 0 2px rgba(34,197,94,.45), 0 0 10px rgba(34,197,94,.65); }
.dispatchCardStatusDot--medium.is-active{ box-shadow:0 0 0 2px rgba(234,179,8,.45), 0 0 10px rgba(234,179,8,.65); }
.dispatchCardStatusDot--hold.is-active{ box-shadow:0 0 0 2px rgba(239,68,68,.45), 0 0 10px rgba(239,68,68,.65); }

.dispatchCardParcel {
  display: flex;
  align-items: center;
  gap: 0.35rem;
  font-size: 0.68rem;
  color: var(--text-muted);
  margin-bottom: 0.35rem;
}

.dispatchCardParcel label {
  font-weight: 600;
  color: var(--text);
}

.dispatchParcelCountInput {
  width: 3.2rem;
  border: 1px solid var(--panel-strong);
  border-radius: 0.45rem;
  padding: 0.2rem 0.35rem;
  font-size: 0.72rem;
  background: #fff;
  color: var(--text);
}

.dispatchParcelCountInput:focus {
  outline: 2px solid rgba(56,189,248,0.4);
  outline-offset: 1px;
}


  .dispatchCardLines {
    font-size: 0.72rem;
    color: #334155;
    line-height: 1.25;
    white-space: pre-line;
    word-break:break-word;
  }
  .dispatchLineItem{
    display:inline;
  }
  .dispatchLineItem.is-complete{
    text-decoration:line-through;
    color:#94a3b8;
  }
  .dispatchLineItem.is-partial{
    text-decoration:line-through;
    color:#94a3b8;
  }
  .dispatchLineRemainder{
    font-weight:800;
    color:#0f172a;
  }

  .dispatchCardActions{
    display:flex;
    justify-content:flex-end;
    flex-wrap:wrap;
    gap:.35rem;
    margin-top:.5rem;
  }

  .dispatchFulfillBtn{
    border:1px solid rgba(34,197,94,.55);
    background:rgba(34,197,94,.16);
    color:#065f46;
    font-size:.7rem;
    font-weight:700;
    padding:.35rem .55rem;
    border-radius:.5rem;
    cursor:pointer;
  }
  .dispatchFulfillBtn:hover{
    background:rgba(34,197,94,.26);
  }
  .dispatchFulfillBtn:disabled{
    opacity:.5;
    cursor:not-allowed;
  }

  .dispatchBookBtn{
    border:1px solid rgba(56,189,248,.45);
    background:rgba(56,189,248,.12);
    color:#0c4a6e;
    font-size:.7rem;
    font-weight:700;
    padding:.35rem .55rem;
    border-radius:.5rem;
    cursor:pointer;
  }

  .dispatchBookBtn:hover{
    background:rgba(56,189,248,.22);
  }
  .dispatchBookBtn:disabled{
    opacity:.5;
    cursor:not-allowed;
  }
  .dispatchNoteBtn{
    border:1px solid rgba(34,197,94,.55);
    background:rgba(34,197,94,.16);
    color:#065f46;
    font-size:.7rem;
    font-weight:700;
    padding:.35rem .55rem;
    border-radius:.5rem;
    cursor:pointer;
  }
  .dispatchNoteBtn:hover{
    background:rgba(34,197,94,.26);
  }
  .dispatchFlowBtn{
    border:1px solid rgba(59,130,246,.45);
    background:rgba(59,130,246,.12);
    color:#1e3a8a;
    font-size:.7rem;
    font-weight:700;
    padding:.35rem .55rem;
    border-radius:.5rem;
    cursor:pointer;
  }
  .dispatchFlowBtn:hover{
    background:rgba(59,130,246,.22);
  }
  .dispatchFlowBtn:disabled{
    opacity:.5;
    cursor:not-allowed;
  }
  .dispatchOppBtn{
    border:1px solid rgba(14,116,144,.45);
    background:rgba(14,116,144,.18);
    color:#0f172a;
    font-size:.7rem;
    font-weight:700;
    padding:.35rem .55rem;
    border-radius:.5rem;
    cursor:pointer;
  }
  .dispatchOppBtn:hover{
    background:rgba(14,116,144,.22);
  }
  .dispatchOppBtn:disabled{
    opacity:.5;
    cursor:not-allowed;
  }
  .dispatchNotifyBtn{
    border:1px solid rgba(234,179,8,.5);
    background:rgba(234,179,8,.18);
    color:#92400e;
    font-size:.7rem;
    font-weight:700;
    padding:.35rem .55rem;
    border-radius:.5rem;
    cursor:pointer;
  }
  .dispatchNotifyBtn:hover{
    background:rgba(234,179,8,.3);
  }
  .dispatchNotifyBtn:disabled{
    opacity:.5;
    cursor:not-allowed;
  }

  .dispatchCol--shipments .dispatchColBody{
    padding:0;
  }

  .dispatchShipmentTable{
    background:#ffffff;
    border:1px solid var(--panel-strong);
    border-radius:10px;
    overflow:hidden;
    box-shadow:0 2px 6px rgba(15,23,42,.08);
  }

  .dispatchShipmentRow{
    display:grid;
    grid-template-columns: 1.2fr 1fr 1fr;
    gap:.5rem;
    padding:.55rem .6rem;
    border-bottom:1px solid var(--panel-strong);
    font-size:.72rem;
    color:var(--text);
    cursor:pointer;
  }

  .dispatchShipmentRow--header{
    background:var(--panel-muted);
    font-weight:700;
    text-transform:uppercase;
    letter-spacing:.6px;
    cursor:default;
  }

  .dispatchShipmentRow:last-child{
    border-bottom:none;
  }

  .dispatchShipmentCell--tracking{
    font-family:var(--mono);
    color:var(--text);
  }

  .dispatchShipmentCell--status{
    color:var(--text-muted);
  }

  .dispatchShipmentEmpty{
    padding:.75rem;
    font-size:.75rem;
    color:var(--text-muted);
  }

  .dispatchShipmentInfo{
    display:grid;
    gap:.35rem;
    font-size:.85rem;
    color:#0f172a;
    margin-bottom:1rem;
  }

  .dispatchShipmentEventsTitle{
    font-weight:700;
    margin-bottom:.5rem;
  }

  .dispatchShipmentEvent{
    border:1px solid #e2e8f0;
    border-radius:.6rem;
    padding:.6rem;
    margin-bottom:.5rem;
    background:#f8fafc;
  }

  .dispatchShipmentEventTitle{
    font-weight:700;
    color:#0f172a;
    margin-bottom:.2rem;
  }

  .dispatchShipmentEventMeta{
    font-size:.72rem;
    color:#64748b;
    margin-bottom:.2rem;
  }

  .dispatchShipmentEventMessage{
    font-size:.78rem;
    color:#334155;
  }

  .dispatchShipmentEventEmpty{
    font-size:.78rem;
    color:#94a3b8;
  }

  .dispatchPackingPanel{
    border-top:1px dashed rgba(148,163,184,.5);
    margin-top:.6rem;
    padding-top:.6rem;
    display:none;
  }
  .dispatchPackingPanel.is-active{
    display:block;
  }
  .dispatchPackingHeader{
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:.5rem;
    margin-bottom:.45rem;
  }
  .dispatchPackingTitle{
    font-size:.78rem;
    font-weight:700;
    color:#0f172a;
  }
  .dispatchPackingTimes{
    font-size:.62rem;
    color:#64748b;
    display:flex;
    flex-direction:column;
    gap:.2rem;
    text-align:right;
  }
  .dispatchPackingList{
    display:flex;
    flex-direction:column;
    gap:.45rem;
    margin-bottom:.5rem;
  }
  .dispatchPackingRow{
    border:1px solid rgba(226,232,240,.9);
    border-radius:.5rem;
    padding:.4rem .5rem;
    background:#f8fafc;
  }
  .dispatchPackingRow.is-complete{
    background:rgba(148,163,184,.12);
  }
  .dispatchPackingRow.is-complete .dispatchPackingItem{
    text-decoration:line-through;
    color:#94a3b8;
  }
  .dispatchPackingInfo{
    display:flex;
    flex-direction:column;
    gap:.15rem;
  }
  .dispatchPackingItem{
    font-size:.74rem;
    font-weight:600;
    color:#0f172a;
  }
  .dispatchPackingMeta{
    font-size:.64rem;
    color:#475569;
  }
  .dispatchPackingActions{
    display:flex;
    flex-wrap:wrap;
    gap:.35rem;
    margin-top:.35rem;
  }
  .dispatchPackingQty{
    width:60px;
    border-radius:.4rem;
    border:1px solid rgba(148,163,184,.6);
    padding:.2rem .3rem;
    font-size:.7rem;
  }
  .dispatchPackQtyBtn,
  .dispatchPackAllBtn{
    border-radius:.4rem;
    border:1px solid rgba(59,130,246,.3);
    background:rgba(59,130,246,.08);
    color:#1e3a8a;
    font-size:.66rem;
    padding:.25rem .45rem;
    cursor:pointer;
  }
  .dispatchPackQtyBtn:hover,
  .dispatchPackAllBtn:hover{
    background:rgba(59,130,246,.16);
  }
  .dispatchPackQtyBtn:disabled,
  .dispatchPackAllBtn:disabled{
    opacity:.5;
    cursor:not-allowed;
  }
  .dispatchPackingFooter{
    display:flex;
    flex-direction:column;
    gap:.45rem;
  }
  .dispatchParcelScan{
    display:flex;
    gap:.35rem;
    flex-wrap:wrap;
  }
  .dispatchParcelBoxBtn{
    border-radius:.45rem;
    border:1px solid rgba(124,58,237,.35);
    background:rgba(124,58,237,.12);
    color:#5b21b6;
    font-size:.65rem;
    font-weight:700;
    padding:.3rem .45rem;
    cursor:pointer;
  }
  .dispatchParcelBoxBtn:hover{
    background:rgba(124,58,237,.2);
  }
  .dispatchBoxList{
    display:flex;
    flex-wrap:wrap;
    gap:.35rem;
    font-size:.62rem;
    color:#0f172a;
  }
  .dispatchBoxRow{
    display:flex;
    align-items:center;
    gap:.45rem;
    background:rgba(226,232,240,.8);
    border-radius:.6rem;
    padding:.3rem .5rem;
    font-size:.62rem;
    color:#0f172a;
    font-weight:600;
  }
  .dispatchBoxLabel{
    font-size:.62rem;
    font-weight:700;
    color:#0f172a;
  }
  .dispatchBoxParcelInput{
    border-radius:.4rem;
    border:1px solid rgba(148,163,184,.6);
    padding:.2rem .3rem;
    font-size:.62rem;
    min-width:140px;
  }
  .dispatchBoxEmpty{
    color:#94a3b8;
  }
  .dispatchPackingControls{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:.5rem;
  }
  .dispatchPackingCount{
    font-size:.65rem;
    color:#475569;
  }
  .dispatchFinishPackingBtn{
    border-radius:.45rem;
    border:1px solid rgba(234,88,12,.35);
    background:rgba(251,146,60,.15);
    color:#fdba74;
    font-size:.65rem;
    font-weight:700;
    padding:.3rem .55rem;
    cursor:pointer;
  }
  .dispatchFinishPackingBtn:hover{
    background:rgba(251,146,60,.24);
  }
  .dispatchFinishPackingBtn:disabled{
    opacity:.55;
    cursor:not-allowed;
  }
  .dispatchPackingEmpty{
    font-size:.65rem;
    color:#94a3b8;
  }
  .dispatchOrderModal{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    z-index:60;
  }
  .dispatchOrderModal.is-open{
    display:flex;
  }
  .dispatchOrderModal__backdrop{
    position:absolute;
    inset:0;
    background:rgba(15,23,42,.45);
  }
  .dispatchOrderModal__content{
    position:relative;
    background:var(--panel);
    border-radius:16px;
    border:1px solid var(--panel-strong);
    width:min(900px, 92vw);
    max-height:90vh;
    overflow:hidden;
    box-shadow:0 18px 40px rgba(15,23,42,.2);
    display:flex;
    flex-direction:column;
  }
  .dispatchOrderModal__header{
    padding:1rem 1.2rem 0;
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:1rem;
  }
  .dispatchOrderModal__title{
    font-size:1rem;
    font-weight:700;
    color:var(--text);
  }
  .dispatchOrderModal__meta{
    font-size:.75rem;
    color:#64748b;
    margin-top:.2rem;
  }
  .dispatchOrderModal__body{
    padding:0 1.2rem 1.2rem;
    overflow-y:auto;
  }
  .dispatchOrderModal__close{
    border:none;
    background:rgba(148,163,184,.2);
    color:#0f172a;
    font-weight:700;
    border-radius:999px;
    width:32px;
    height:32px;
    cursor:pointer;
  }
  .dispatchOrderModal__close:hover{
    background:rgba(148,163,184,.35);
  }
  .dispatchShipmentModal{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    z-index:60;
  }
  .dispatchShipmentModal.is-open{
    display:flex;
  }
  .dispatchShipmentModal__backdrop{
    position:absolute;
    inset:0;
    background:rgba(15,23,42,.45);
  }
  .dispatchShipmentModal__content{
    position:relative;
    background:var(--panel);
    border-radius:16px;
    border:1px solid var(--panel-strong);
    width:min(820px, 92vw);
    max-height:90vh;
    overflow:hidden;
    box-shadow:0 18px 40px rgba(15,23,42,.2);
    display:flex;
    flex-direction:column;
  }
  .dispatchShipmentModal__header{
    padding:1rem 1.2rem 0;
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:1rem;
  }
  .dispatchShipmentModal__title{
    font-size:1rem;
    font-weight:700;
    color:var(--text);
  }
  .dispatchShipmentModal__meta{
    font-size:.75rem;
    color:var(--text-muted);
    margin-top:.2rem;
  }
  .dispatchShipmentModal__body{
    padding:0 1.2rem 1.2rem;
    overflow-y:auto;
  }
  .dispatchShipmentModal__close{
    border:none;
    background:rgba(148,163,184,.2);
    color:#0f172a;
    font-weight:700;
    border-radius:999px;
    width:32px;
    height:32px;
    cursor:pointer;
  }
  .dispatchShipmentModal__close:hover{
    background:rgba(148,163,184,.35);
  }

.dispatchColBody {
  overflow-y: auto;
  max-height: 62vh;
  padding-right: 6px;
}

/* lane separation */
.dispatchCol {
  display: flex;
  flex-direction: column;
  background: #f8fafc;
  border-radius: 12px;
  padding: 0.85rem;
  border: 1px solid var(--panel-strong);
}

.dispatchBoardEmpty {
  grid-column: 1 / -1;
  text-align: center;
  font-size: 0.8rem;
  color: var(--text-muted);
  padding: 1rem 0;
}

.dispatchBoardEmptyCol {
  font-size: 0.72rem;
  color: #94a3b8;
  padding: 0.35rem 0.1rem;
}

  .dispatchStamp{
  font-size:.7rem;
  color:var(--text-muted);
  font-family:var(--mono);
}

  /* Documentation */
  .docsModule{
    width:100%;
    max-width:1240px;
    margin:0 auto;
    display:grid;
    grid-template-columns:minmax(220px,260px) minmax(0,1fr) minmax(180px,220px);
    gap:1rem;
  }
  .docsPanel{
    background:var(--panel);
    border:1px solid var(--panel-strong);
    border-radius:var(--radius-lg);
    box-shadow:var(--shadow-soft);
  }
  .docsTopics{
    padding:.75rem;
    display:flex;
    flex-direction:column;
    gap:.45rem;
    max-height:78vh;
    overflow:auto;
  }
  .docsTopicBtn{
    border:1px solid var(--panel-strong);
    background:var(--panel-muted);
    color:var(--text);
    text-align:left;
    border-radius:.65rem;
    padding:.6rem .7rem;
    cursor:pointer;
    font-size:.8rem;
    font-weight:600;
  }
  .docsTopicBtn small{ display:block; color:var(--text-muted); font-weight:500; margin-top:.15rem; }
  .docsTopicBtn--active{
    background:var(--accent-soft);
    border-color:rgba(99,102,241,.45);
    color:#4338ca;
  }
  .docsContent{
    padding:1.25rem 1.4rem;
    min-height:70vh;
    overflow:auto;
  }
  .docsContent h1{ font-size:1.15rem; margin:.25rem 0 .75rem; }
  .docsContent h2{ font-size:1rem; margin:1.15rem 0 .5rem; }
  .docsContent h3{ font-size:.9rem; margin:1rem 0 .4rem; }
  .docsContent p,.docsContent li{ font-size:.84rem; line-height:1.55; color:var(--text); }
  .docsContent pre{
    font-family:var(--mono);
    font-size:.76rem;
    background:var(--panel-muted);
    border:1px solid var(--panel-strong);
    padding:.8rem;
    border-radius:.6rem;
    overflow:auto;
  }
  .docsContent code{ font-family:var(--mono); font-size:.78rem; }
  .docsContent table{ width:100%; border-collapse:collapse; font-size:.8rem; margin:.6rem 0; }
  .docsContent th,.docsContent td{ border:1px solid var(--panel-strong); padding:.45rem .5rem; text-align:left; }
  .docsContent th{ background:var(--panel-muted); }
  .docsSubnav{
    padding:1rem;
    max-height:78vh;
    overflow:auto;
  }
  .docsSubnavTitle{ margin:0 0 .65rem; font-size:.8rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:.04em; }
  .docsSubnav a{ display:block; color:var(--text-muted); text-decoration:none; font-size:.78rem; margin:.35rem 0; }
  .docsSubnav a:hover{ color:#4338ca; }
  .docsEmpty{ color:var(--text-muted); font-size:.8rem; }
  .docsShell{
    max-width:1200px;
    width:100%;
    margin:0 auto;
    background:var(--panel);
    border:1px solid var(--panel-strong);
    border-radius:var(--radius-lg);
    box-shadow:var(--shadow-soft);
    padding:1.4rem 1.6rem;
  }
  .docsDivider{ border:none; height:1px; background:var(--panel-strong); margin:1.2rem 0; }
  .docsCode{ font-family:var(--mono); font-size:.78rem; }
  .docsBlock{
    font-family:var(--mono);
    font-size:.76rem;
    background:var(--panel-muted);
    border:1px solid var(--panel-strong);
    padding:.8rem;
    border-radius:.6rem;
    overflow:auto;
    white-space:pre;
  }
  @media (max-width:1000px){
    .docsModule{ grid-template-columns:minmax(200px,240px) minmax(0,1fr); }
    .docsSubnav{ display:none; }
  }
  @media (max-width:760px){
    .docsModule{ grid-template-columns:1fr; }
    .docsTopics{ max-height:none; }
    .docsContent{ min-height:auto; }
  }
  .slotEgg{
    position:fixed;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:1.5rem;
    z-index:60;
  }
  .slotEgg[hidden]{
    display:none;
  }
  .slotEgg__backdrop{
    position:absolute;
    inset:0;
    background:rgba(15,23,42,.35);
  }
  .slotEgg__panel{
    position:relative;
    background:var(--panel);
    color:var(--text);
    border-radius:1rem;
    padding:1.4rem 1.6rem;
    width:min(420px,92vw);
    box-shadow:0 30px 80px rgba(15,23,42,.2);
    border:1px solid var(--panel-strong);
    z-index:1;
  }
  .slotEgg__header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:.75rem;
    margin-bottom:.4rem;
  }
  .slotEgg__title{
    margin:0;
    font-size:1.15rem;
  }
  .slotEgg__close{
    border:none;
    background:transparent;
    color:var(--text);
    font-size:1.2rem;
    cursor:pointer;
  }
  .slotEgg__hint{
    color:var(--text-muted);
    font-size:.85rem;
    margin:0 0 1rem;
  }
  .slotEgg__reels{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:.75rem;
    margin-bottom:1rem;
  }
  .slotEgg__reel{
    background:var(--panel-muted);
    border:1px solid var(--panel-strong);
    border-radius:.75rem;
    padding:.9rem .6rem;
    text-align:center;
    font-size:1.1rem;
    font-weight:700;
    letter-spacing:.04em;
    min-height:3.1rem;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .slotEgg__actions{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:.75rem;
    flex-wrap:wrap;
  }
  .slotEgg__spin{
    border:none;
    border-radius:999px;
    padding:.45rem 1.2rem;
    font-weight:700;
    text-transform:uppercase;
    letter-spacing:.08em;
    background:#f97316;
    color:#0f172a;
    cursor:pointer;
  }
  .slotEgg__spin[disabled]{
    opacity:.6;
    cursor:default;
  }
  .slotEgg__result{
    font-size:.85rem;
    color:var(--text-muted);
    flex:1;
    min-width:160px;
  }
  .pill{
    display:inline-flex;
    align-items:center;
    gap:.35rem;
    padding:.2rem .5rem;
    border-radius:999px;
    border:1px solid rgba(34,211,238,.5);
    background:rgba(34,211,238,.12);
    color:#0e7490;
    font-size:.7rem;
    font-weight:600;
  }
  .parcelNumbersPanel{
    background:var(--panel);
    border:1px solid var(--panel-strong);
    border-radius:var(--radius-lg);
    padding:1rem;
    min-height:320px;
    display:flex;
    flex-direction:column;
    gap:.75rem;
  }
  .parcelNumbersHeader{
    display:flex;
    align-items:center;
    justify-content:space-between;
    font-weight:700;
    color:var(--text);
  }
  .parcelNumbersSub{
    font-size:.78rem;
    color:var(--text-muted);
  }
  .parcelNumbersGrid{
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(80px, 1fr));
    gap:.75rem;
  }
  .parcelNumber{
    display:grid;
    place-items:center;
    font-size:2.1rem;
    font-weight:800;
    border-radius:1rem;
    min-height:80px;
    background:var(--panel-muted);
    border:2px dashed rgba(148,163,184,.6);
    color:var(--text-muted);
    transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
  }
  .parcelNumber.is-scanned{
    border-style:solid;
    border-color:rgba(34,197,94,.6);
    color:#065f46;
    box-shadow:0 10px 25px rgba(34,197,94,.2);
    background:rgba(22,163,74,.14);
    transform:translateY(-2px);
  }
  .parcelNumbersEmpty{
    color:var(--text-muted);
    font-size:.9rem;
    padding:1.5rem 0;
    text-align:center;
  }

</style>
  <link rel="stylesheet" href="/views/flocs.css">
  <link rel="stylesheet" href="/views/stock.css">
  <link rel="stylesheet" href="/views/price-manager.css">
</head>
 <body>
  <div class="flApp">
    <div class="flLayout">
      <aside class="flSide">
        <div class="flSideHeader">
          <div class="flNavTitle">Flippen Lekka Operations</div>
        </div>
        <nav class="flNav" aria-label="Primary">
          <div class="flNavGroup" role="tablist" aria-label="Primary views">
            <button id="navDashboard" class="flNavBtn flNavBtn--active" type="button" role="tab" aria-controls="viewDashboard" aria-selected="true" data-route="/"><span class="flNavBtnIcon" aria-hidden="true">🏠</span><span class="flNavBtnText">Dashboard</span></button>
            <button id="navScan" class="flNavBtn" type="button" role="tab" aria-controls="viewScan" aria-selected="false" data-route="/scan"><span class="flNavBtnIcon" aria-hidden="true">📦</span><span class="flNavBtnText">Dispatch</span></button>
            <button id="navDocs" class="flNavBtn" type="button" role="tab" aria-controls="viewDocs" aria-selected="false" data-route="/docs"><span class="flNavBtnIcon" aria-hidden="true">📖</span><span class="flNavBtnText">Documentation</span></button>
            <button id="navFlowcharts" class="flNavBtn" type="button" role="tab" aria-controls="viewFlowcharts" aria-selected="false" data-route="/flowcharts"><span class="flNavBtnIcon" aria-hidden="true">🧭</span><span class="flNavBtnText">Flowcharts</span></button>
            <button id="navFlocs" class="flNavBtn" type="button" role="tab" aria-controls="viewFlocs" aria-selected="false" data-route="/flocs"><span class="flNavBtnIcon" aria-hidden="true">📝</span><span class="flNavBtnText">Order capture</span></button>
            <button id="navStock" class="flNavBtn" type="button" role="tab" aria-controls="viewStock" aria-selected="false" data-route="/stock"><span class="flNavBtnIcon" aria-hidden="true">📊</span><span class="flNavBtnText">Stock take</span></button>
            <button id="navPriceManager" class="flNavBtn" type="button" role="tab" aria-controls="viewPriceManager" aria-selected="false" data-route="/price-manager"><span class="flNavBtnIcon" aria-hidden="true">💲</span><span class="flNavBtnText">Price manager</span></button>
            <button id="navDispatchSettings" class="flNavBtn" type="button" role="tab" aria-controls="viewDispatchSettings" aria-selected="false" data-route="/dispatch-settings" hidden><span class="flNavBtnIcon" aria-hidden="true">⚙️</span><span class="flNavBtnText">Dispatch settings</span></button>
            <button id="navLogs" class="flNavBtn" type="button" role="tab" aria-controls="viewLogs" aria-selected="false" data-route="/logs" hidden><span class="flNavBtnIcon" aria-hidden="true">🪵</span><span class="flNavBtnText">Logs</span></button>
          </div>
          <div class="flNavStatus">
            <span id="statusChip" class="statusChip">Ready to scan orders…</span>
          </div>
        </nav>
      </aside>
      <main class="flMain">
        <div id="serverStatusBar" class="statusBar" role="status" aria-live="polite">
          <span class="statusBarLabel">Connections</span>
          <span class="statusPill statusPill--warn"><span class="statusPillDot"></span>Loading…</span>
        </div>

        <div class="flView flView--active" id="viewDashboard">
          <div class="dashboardShell">
            <div class="dashboardHeader">
              <div>
                <h1>Operations Dashboard</h1>
                <p>Quick status glance plus instant access to the core operations apps.</p>
              </div>
            </div>
            <section class="dashboardKpis" aria-label="Key performance indicators">
              <div class="kpiCard">
                <div class="kpiLabel">Today's parcels</div>
                <div class="kpiValue" id="kpiParcels">0</div>
                <div class="kpiMeta">Auto + manual bookings</div>
              </div>
              <div class="kpiCard">
                <div class="kpiLabel">Open dispatch orders</div>
                <div class="kpiValue" id="kpiOpenOrders">0</div>
                <div class="kpiMeta">Shipping, delivery, pickup</div>
              </div>
              <div class="kpiCard">
                <div class="kpiLabel">Recently shipped</div>
                <div class="kpiValue" id="kpiRecentShipments">0</div>
                <div class="kpiMeta">Latest fulfillment events</div>
              </div>
              <div class="kpiCard">
                <div class="kpiLabel">Mode</div>
                <div class="kpiValue" id="kpiMode">Auto</div>
                <div class="kpiMeta">Dispatch scanning mode</div>
              </div>
              <div class="kpiCard">
                <div class="kpiLabel">Truck status</div>
                <div class="kpiValue" id="kpiTruckStatus">Not booked</div>
                <div class="kpiMeta">Collection booking state</div>
              </div>
              <div class="kpiCard">
                <div class="kpiLabel">Last scan</div>
                <div class="kpiValue" id="kpiLastScan">--</div>
                <div class="kpiMeta">Most recent barcode scan</div>
              </div>
            </section>
            <section>
              <div class="appsHeader">
                <h2>Apps</h2>
              </div>
              <div id="moduleGrid" class="moduleGrid" aria-live="polite"></div>
            </section>
          </div>
        </div>

        <div class="flView" id="viewScan" hidden>
      <div id="screenFlash" class="screenFlash" aria-hidden="true"></div>
      <div class="dispatchTopBar" aria-label="Dispatch controls">
        <div class="dispatchTopRow">
          <div class="dispatchHeading">Dispatch</div>
          <div class="dispatchScanField">
            <label for="scanInput">Scan barcode</label>
            <input id="scanInput" type="text" inputmode="numeric" autocomplete="off" placeholder="Focus here. Scanner types then Enter." autofocus />
          </div>
          <div class="dispatchTopActions">
            <button id="dispatchExpandToggle" class="btn dispatchExpandToggle btn--compact" type="button" aria-expanded="false">Expand</button>
            <button id="dispatchCreateCombined" class="btn btnToggle btn--compact" type="button">Create Combined Shipment</button>
            <button id="modeToggle" class="btn btn--compact" type="button">MODE: AUTO</button>
            <button id="btnBookNow" class="btn btnPrimary" hidden>BOOK NOW</button>
          </div>
          <div class="dispatchTruckIndicator">
            <button id="truckBookBtn" class="dispatchTruckButton is-unbooked" type="button" aria-pressed="false">
              <span class="dispatchTruckIcon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                  <path d="M3 6.75A1.75 1.75 0 0 1 4.75 5h9.5A1.75 1.75 0 0 1 16 6.75V14h1.25c.41 0 .8.18 1.06.49l2.5 3a1.75 1.75 0 0 1 .44 1.13v1.13A1.25 1.25 0 0 1 20 21h-1.1a2.5 2.5 0 0 1-4.9 0H9a2.5 2.5 0 0 1-4.9 0H3.75A.75.75 0 0 1 3 20.25zM16 14V6.75a.25.25 0 0 0-.25-.25h-9.5a.25.25 0 0 0-.25.25V14zm1.8 0h2.25l-2-2.4zm-11.4 6a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10.4-1a1 1 0 1 0-2 0 1 1 0 0 0 2 0"/>
                </svg>
              </span>
              <span id="truckStatus">Not booked</span>
            </button>
            <div class="dispatchTruckMeta">
              <span class="dispatchTruckBox"><span aria-hidden="true">📦</span>Truck:<span id="truckParcelCount">0</span></span>
            </div>
          </div>
        </div>
        <div class="dispatchTopDetails">
          <div class="dispatchDetailGrid">
            <div class="dispatchDetailCard">
              <span class="dispatchDetailLabel">Customer</span>
              <span id="uiCustomerName" class="dispatchDetailValue">--</span>
            </div>
            <div class="dispatchDetailCard">
              <span class="dispatchDetailLabel">Order</span>
              <span id="uiOrderNo" class="dispatchDetailValue">--</span>
            </div>
            <div class="dispatchDetailCard">
              <span class="dispatchDetailLabel">Order weight</span>
              <span id="uiOrderWeight" class="dispatchDetailValue">--</span>
            </div>
            <div class="dispatchDetailCard dispatchDetailAddress">
              <span class="dispatchDetailLabel">Shipping address</span>
              <span id="shipToCard" class="dispatchDetailValue">None yet.</span>
            </div>
          </div>
          <div class="dispatchTopPanels">
            <div class="dispatchStatusPanel dispatchStatusPanel--compact" aria-live="polite">
              <div class="dispatchStatusHeader">
                <h3>Booking progress</h3>
                <span id="scanProgressLabel" class="dispatchStatusLabel">Idle</span>
              </div>
              <div class="dispatchProgressBar" id="scanProgressBar">
                <div id="scanProgressFill" class="dispatchProgressFill"></div>
                <div class="dispatchProgressSun" aria-hidden="true"></div>
              </div>
              <div class="dispatchProgressSteps" id="scanProgressSteps"></div>
            </div>
            <div class="dispatchLogPanel dispatchLogPanel--compact">
              <div class="dispatchLogHeader">
                <span>Dispatch log</span>
                <span class="dispatchStamp">Latest activity</span>
              </div>
              <div id="scanDispatchLog" class="dispatchLog" aria-live="polite"></div>
            </div>
          </div>
        </div>
      </div>
      <div id="dispatchBoardContainer" role="application" aria-label="Flippen Lekka Dispatch">
        <div class="dispatchBoardLayout">
          <div class="dispatchSelectionPanel" id="dispatchSelectionPanel" aria-live="polite">
            <div class="dispatchSelectionHeader">
              <span>Selected orders</span>
              <div class="dispatchSelectionActions">
                <span class="dispatchSelectionCount" id="dispatchSelectionCount">0</span>
                <button class="dispatchSelectionClear" id="dispatchSelectionClear" type="button">Clear</button>
              </div>
            </div>
            <div class="dispatchSelectionBody">
              <div>
                <div class="dispatchSelectionLabel">Units by size &amp; flavour</div>
                <div class="dispatchSelectionList" id="dispatchSelectionUnits">
                  <div class="dispatchSelectionRow">Select orders to see totals.</div>
                </div>
              </div>
              <div class="dispatchSelectionMeta">
                <div>Total est. parcels/boxes: <strong id="dispatchSelectionBoxes">0</strong></div>
                <div>Total weight: <strong id="dispatchSelectionWeight">—</strong></div>
                <div>Total est. time: <strong id="dispatchSelectionTime">—</strong></div>
              </div>
              <div class="dispatchSelectionBulkActions">
                <button id="dispatchPrintDocs" class="dispatchSelectionBtn" type="button">Print Delivery Docs</button>
                <button id="dispatchDeliverSelected" class="dispatchSelectionBtn dispatchSelectionBtn--primary" type="button">Deliver</button>
                <button id="dispatchMarkDelivered" class="dispatchSelectionBtn" type="button">Mark as delivered</button>
              </div>
            </div>
          </div>
          <div class="dispatchBoardMain">
            <div class="dispatchBoardPanel">
              <div class="sectionTitle" style="margin-top:.4rem">
                <span>Whiteboard</span>
                <span id="dispatchStamp" class="dispatchStamp">–</span>
              </div>
              <div class="dispatchBoard" id="dispatchBoardGrid">
                <div class="dispatchBoardEmpty">Loading open orders…</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="dispatchOrderModal" id="dispatchOrderModal" aria-hidden="true">
        <div class="dispatchOrderModal__backdrop" data-action="close-modal" aria-hidden="true"></div>
        <div class="dispatchOrderModal__content" role="dialog" aria-modal="true" aria-labelledby="dispatchOrderModalTitle">
          <div class="dispatchOrderModal__header">
            <div>
              <div class="dispatchOrderModal__title" id="dispatchOrderModalTitle">Order</div>
              <div class="dispatchOrderModal__meta" id="dispatchOrderModalMeta"></div>
            </div>
            <button class="dispatchOrderModal__close" type="button" data-action="close-modal" aria-label="Close order details">✕</button>
          </div>
          <div class="dispatchOrderModal__body" id="dispatchOrderModalBody"></div>
        </div>
      </div>
      <div class="dispatchShipmentModal" id="dispatchShipmentModal" aria-hidden="true">
        <div class="dispatchShipmentModal__backdrop" data-action="close-modal" aria-hidden="true"></div>
        <div class="dispatchShipmentModal__content" role="dialog" aria-modal="true" aria-labelledby="dispatchShipmentModalTitle">
          <div class="dispatchShipmentModal__header">
            <div>
              <div class="dispatchShipmentModal__title" id="dispatchShipmentModalTitle">Shipment</div>
              <div class="dispatchShipmentModal__meta" id="dispatchShipmentModalMeta"></div>
            </div>
            <button class="dispatchShipmentModal__close" type="button" data-action="close-modal" aria-label="Close shipment details">✕</button>
          </div>
          <div class="dispatchShipmentModal__body" id="dispatchShipmentModalBody"></div>
        </div>
      </div>
      <div id="dispatchNotesBar" style="position:sticky;bottom:0;z-index:30;background:#0f172a;color:#e2e8f0;border:1px solid #334155;border-radius:.75rem;padding:.55rem;margin-top:.5rem;display:flex;gap:.5rem;align-items:center">
        <strong style="font-size:.78rem">Dispatch notes</strong>
        <textarea id="dispatchNotesInput" placeholder="Type notes for dispatch team…" style="flex:1;min-height:48px;max-height:120px;background:#111827;color:#e5e7eb;border:1px solid #475569;border-radius:.5rem;padding:.4rem"></textarea>
        <button id="dispatchNotesClose" type="button" class="btn btn--compact">Close</button>
      </div>
    </div>

        <div class="flView" id="viewDispatchSettings" hidden><div class="dashboardShell"><h2>Dispatch settings</h2><p>Hidden admin settings panel.</p></div></div>
        <div class="flView" id="viewLogs" hidden><div class="dashboardShell"><h2>Logs</h2><p>Hidden admin logs panel.</p><pre id="adminLogsPreview" class="dispatchLog"></pre></div></div>

        <div class="flView" id="viewOps" hidden></div>

        <div class="flView" id="viewDocs" hidden>
          <div class="docsModule" id="docsModuleRoot">
            <aside class="docsPanel docsTopics" id="docsTopics" aria-label="Documentation topics"></aside>
            <article class="docsPanel docsContent" id="docsContent" aria-live="polite"></article>
            <nav class="docsPanel docsSubnav" id="docsSubnav" aria-label="Topic navigation"></nav>
          </div>
        </div>
    <div class="flView" id="viewFlowcharts" hidden>
      <div class="docsShell">
        <div class="pill">FLOW LOGIC</div>
        <h2>Packing and Dispatch Flowcharts</h2>
        <p>This page documents the operational logic for packing prediction, parcel planning, and box allocation. It separates hard rules (must obey) from soft rules (optimization preferences) so packing behavior is consistent and explainable.</p>

        <h3>1) End-to-end packing orchestration</h3>
        <pre class="docsBlock"><code>flowchart TD
  A[Order enters dispatch queue] --> B[Normalize items and quantities]
  B --> C[Validate SKU master data]
  C --> D[Estimate total mass and volume]
  D --> E[Predict parcel count]
  E --> F[Generate candidate packing plans]
  F --> G[Run hard-rule validation]
  G -->|Fail| H[Reject plan and regenerate]
  G -->|Pass| I[Score plans with soft rules]
  I --> J[Pick best plan]
  J --> K[Assign items to boxes]
  K --> L[Finalize box sizes and parcel weights]
  L --> M[Create booking payload]</code></pre>

        <h3>2) Predict parcel count and total weight</h3>
        <pre class="docsBlock"><code>flowchart TD
  A[Start prediction] --> B[Load per-SKU unit mass and dimensions]
  B --> C{Missing mass or dims?}
  C -->|Yes| D[Apply default fallback profile]
  C -->|No| E[Use SKU profile]
  D --> F[Compute order totals]
  E --> F[Compute order totals]
  F --> G[Apply packaging overhead per box]
  G --> H[Estimate minimum boxes by mass limit]
  H --> I[Estimate minimum boxes by volume limit]
  I --> J[Predicted parcels = max mass/volume constraints]
  J --> K[Clamp to service limits]
  K --> L[Return predicted parcel count + weight range]</code></pre>

        <h3>3) Packing plan generation and box allocation</h3>
        <pre class="docsBlock"><code>flowchart TD
  A[Take normalized line items] --> B[Sort items by constraint priority]
  B --> C[Select allowed box catalog]
  C --> D[Seed plan with largest constrained items]
  D --> E[Pack remaining items using best-fit strategy]
  E --> F{Any overflow?}
  F -->|Yes| G[Open next box and continue]
  F -->|No| H[Compute plan metrics]
  G --> H
  H --> I{Hard rules pass?}
  I -->|No| J[Try next candidate strategy]
  I -->|Yes| K[Store candidate]
  J --> D
  K --> L{More candidates?}
  L -->|Yes| D
  L -->|No| M[Pick highest scored candidate]</code></pre>

        <h3>4) Hard-rule decision tree (must pass)</h3>
        <pre class="docsBlock"><code>flowchart TD
  A[Candidate plan] --> B{Any prohibited SKU pair in same box?}
  B -->|Yes| X[Fail candidate]
  B -->|No| C{Box mass exceeds service limit?}
  C -->|Yes| X
  C -->|No| D{Box dimensions exceed max?}
  D -->|Yes| X
  D -->|No| E{Fragile orientation constraints broken?}
  E -->|Yes| X
  E -->|No| F{Temperature / hazard separation required?}
  F -->|Yes| X
  F -->|No| G{Predicted parcel count outside allowed range?}
  G -->|Yes| X
  G -->|No| H[Hard rules pass]</code></pre>

        <h3>5) Soft-rule scoring tree (optimize)</h3>
        <pre class="docsBlock"><code>flowchart TD
  A[Hard-valid candidate] --> B[Score box utilization]
  B --> C[Penalty for excess void space]
  C --> D[Penalty for too many parcels]
  D --> E[Penalty for mixing odd-size SKUs]
  E --> F[Bonus for standard box sizes]
  F --> G[Bonus for picking efficiency]
  G --> H[Bonus for lower chargeable mass]
  H --> I[Total weighted score]
  I --> J[Compare against other candidates]</code></pre>

        <h3>Hard rules (examples)</h3>
        <ul>
          <li>Per-parcel weight must never exceed courier contract maximum.</li>
          <li>Per-parcel dimensions must remain under service constraints.</li>
          <li>Non-compatible product classes must be separated.</li>
          <li>Fragile items must remain upright and buffered in approved boxes.</li>
          <li>If SKU master data is missing, the fallback profile must be applied and flagged.</li>
        </ul>

        <h3>Soft rules (examples)</h3>
        <ul>
          <li>Prefer fewer parcels when shipping cost impact is acceptable.</li>
          <li>Prefer box sizes that are already high-rotation in warehouse stock.</li>
          <li>Prefer packing plans with higher fill rate but still safe to handle.</li>
          <li>Prefer grouping similar SKUs for easier pick-and-pack operations.</li>
          <li>Prefer plans with lower total chargeable weight when hard rules are equal.</li>
        </ul>

        <h3>Operational outputs expected from this logic</h3>
        <ul>
          <li><strong>Predicted parcels:</strong> integer count plus confidence range.</li>
          <li><strong>Total weight:</strong> physical and chargeable mass per parcel and order.</li>
          <li><strong>Packing plan:</strong> per-box item allocation and box size chosen.</li>
          <li><strong>Decision trace:</strong> failed hard-rule checks and soft-rule score rationale.</li>
        </ul>
      </div>
    </div>

    <div class="flView" id="viewFlocs" hidden>
      <div class="flocs-shell" id="flocs-shell">
          <header class="flocs-header">
            <div class="flocs-titleBlock">
              <div class="flocs-title">Order Capture</div>
            </div>
            <div class="flocs-headerActions">
              <button id="flocs-createDraftBtn" class="flocs-actionBtn" type="button">
                <span>📝</span>
                <span>Create draft order</span>
              </button>
              <button id="flocs-createOrderBtn" class="flocs-actionBtn" type="button">
                <span>✅</span>
                <span>Create live order</span>
              </button>
            </div>
          </header>

          <main class="flocs-layout">
            <section class="flocs-panel form" id="flocs-formPanel">
              <div class="flocs-formSection flocs-formSection--customer">
                <div class="flocs-azBar" id="flocs-azBar">
                  <button type="button" data-letter="A">A</button><button type="button" data-letter="B">B</button><button type="button" data-letter="C">C</button><button type="button" data-letter="D">D</button><button type="button" data-letter="E">E</button><button type="button" data-letter="F">F</button><button type="button" data-letter="G">G</button><button type="button" data-letter="H">H</button><button type="button" data-letter="I">I</button><button type="button" data-letter="J">J</button><button type="button" data-letter="K">K</button><button type="button" data-letter="L">L</button><button type="button" data-letter="M">M</button><button type="button" data-letter="N">N</button><button type="button" data-letter="O">O</button><button type="button" data-letter="P">P</button><button type="button" data-letter="Q">Q</button><button type="button" data-letter="R">R</button><button type="button" data-letter="S">S</button><button type="button" data-letter="T">T</button><button type="button" data-letter="U">U</button><button type="button" data-letter="V">V</button><button type="button" data-letter="W">W</button><button type="button" data-letter="X">X</button><button type="button" data-letter="Y">Y</button><button type="button" data-letter="Z">Z</button>
                </div>
                <div class="flocs-labelRow">
                  <span>Customer</span>
                  <span class="flocs-hint" id="flocs-customerStatus">Search by name, email, company, or phone</span>
                </div>
                <div class="flocs-searchRow flocs-searchRow--large">
                  <input id="flocs-customerSearch" class="flocs-input" type="text" placeholder="Type to search Shopify customers…" autocomplete="off" hidden />
                  <div class="flocs-hint">Start typing anywhere on this page to search customers instantly.</div>
                </div>
                <div class="flocs-row" style="margin-top:.4rem">
                  <input id="flocs-customerQuickSearch" class="flocs-input" type="text" placeholder="Quick filter customers in results…" autocomplete="off" />
                  <select id="flocs-customerProvinceFilter" class="flocs-select">
                    <option value="">All provinces</option>
                  </select>
                  <select id="flocs-customerSort" class="flocs-select">
                    <option value="name">Sort: Name</option>
                    <option value="city">Sort: City/Town</option>
                  </select>
                </div>
                <div id="flocs-customerResults" class="flocs-customerResults" hidden></div>
                <div id="flocs-selectedCustomerChips" class="flocs-chipRow"></div>
                <div class="flocs-inlineActions" style="margin-top:.5rem">
                  <button id="flocs-customerCreateToggle" class="flocs-miniBtn" type="button">Add new customer</button>
                </div>
                <div class="flocs-subSection" id="flocs-customerCreatePanel" hidden>
                  <div class="flocs-labelRow">
                    <span>Create new customer</span>
                    <span class="flocs-hint" id="flocs-customerCreateStatus">Add a customer if search returns nothing.</span>
                  </div>
                  <div class="flocs-row">
                    <input id="flocs-customerFirst" class="flocs-input" type="text" placeholder="First name" />
                    <input id="flocs-customerLast" class="flocs-input" type="text" placeholder="Last name" />
                  </div>
                  <div class="flocs-row" style="margin-top:.4rem">
                    <input id="flocs-customerEmail" class="flocs-input" type="email" placeholder="Email" />
                    <input id="flocs-customerPhone" class="flocs-input" type="tel" placeholder="Phone" />
                  </div>
                  <div class="flocs-row" style="margin-top:.4rem">
                    <input id="flocs-customerAccountEmail" class="flocs-input" type="email" placeholder="Account email (optional)" />
                    <input id="flocs-customerAccountContact" class="flocs-input" type="text" placeholder="Account contact (optional)" />
                  </div>
                  <div class="flocs-row" style="margin-top:.4rem">
                    <select id="flocs-customerTier" class="flocs-select">
                      <option value="">Customer tier (optional)</option>
                      <option value="agent">Agent</option>
                      <option value="retailer">Retailer</option>
                      <option value="export">Export</option>
                      <option value="fkb">FKB</option>
                      <option value="public">Public</option>
                    </select>
                    <div></div>
                  </div>
                  <div class="flocs-row" style="margin-top:.4rem">
                    <input id="flocs-customerCompany" class="flocs-input" type="text" placeholder="Company (optional)" />
                    <select id="flocs-customerDelivery" class="flocs-select">
                      <option value="">Default delivery (optional)</option>
                      <option value="shipping">Shipping</option>
                      <option value="pickup">Pickup</option>
                      <option value="delivery">Delivery</option>
                    </select>
                  </div>
                  <div class="flocs-row" style="margin-top:.4rem">
                    <input id="flocs-customerVat" class="flocs-input" type="text" placeholder="VAT number (optional)" />
                    <select id="flocs-customerPaymentTerms" class="flocs-select">
                      <option value="">Payment terms (optional)</option>
                      <option value="Due on delivery">Due on delivery</option>
                      <option value="7 days">7 days</option>
                      <option value="30 days">30 days</option>
                      <option value="60 days">60 days</option>
                      <option value="90 days">90 days</option>
                    </select>
                  </div>
                  <div class="flocs-row" style="margin-top:.4rem">
                    <input id="flocs-customerAddr1" class="flocs-input" type="text" placeholder="Address line 1" />
                    <input id="flocs-customerAddr2" class="flocs-input" type="text" placeholder="Address line 2" />
                  </div>
                  <div class="flocs-row" style="margin-top:.4rem">
                    <input id="flocs-customerCity" class="flocs-input" type="text" placeholder="City" />
                    <input id="flocs-customerProvince" class="flocs-input" type="text" placeholder="Province" />
                  </div>
                  <div class="flocs-row" style="margin-top:.4rem">
                    <input id="flocs-customerZip" class="flocs-input" type="text" placeholder="Postal code" />
                    <input id="flocs-customerCountry" class="flocs-input" type="text" placeholder="Country" value="South Africa" />
                  </div>
                  <div class="flocs-inlineActions" style="margin-top:.5rem">
                    <button id="flocs-customerCreateBtn" class="flocs-btn primary" type="button">Create customer</button>
                    <button id="flocs-customerResetBtn" class="flocs-miniBtn" type="button">Clear form</button>
                  </div>
                </div>
              </div>

              <div class="flocs-formSection flocs-formSection--addresses">
                <div class="flocs-row">
                  <div>
                    <div class="flocs-labelRow"><span>Billing address</span></div>
                    <select id="flocs-billingAddressSelect" class="flocs-select"><option value="">Select a customer first…</option></select>
                  </div>
                  <div>
                    <div class="flocs-labelRow"><span>Shipping address</span></div>
                    <select id="flocs-addressSelect" class="flocs-select"><option value="">Select a customer first…</option></select>
                  </div>
                </div>
              </div>

              <div class="flocs-formSection">
                <div class="flocs-labelRow flocs-labelRow--items">
                  <span>Items</span>
                  <div style="display:flex;gap:.5rem;align-items:center;flex-wrap:wrap">
                    <div class="flocs-productTypeFilter" id="flocs-productTypeFilter">
                      <button type="button" class="is-active" data-type="spices">Spices</button>
                      <button type="button" data-type="popcorn">Popcorn sprinkle</button>
                    </div>
                    <label id="flocs-bulkColumnsWrap" class="flocs-hint" style="display:inline-flex;align-items:center;gap:.35rem;margin:0">
                      <input id="flocs-bulkColumnsToggle" type="checkbox" />
                      Show bulk columns (500g, 1kg, 750g)
                    </label>
                  </div>
                </div>
                <table class="flocs-productsTable">
                  <thead>
                    <tr id="flocs-productsHeadRow">
                      <th>SKU</th>
                      <th>Description</th>
                      <th>200ml</th>
                      <th>250ml</th>
                    </tr>
                  </thead>
                  <tbody id="flocs-productsBody"></tbody>
                </table>
                <div id="flocs-errors" class="flocs-errors"></div>
              </div>
            </section>

            <aside class="flocs-panel flocs-previewPanel" aria-label="Invoice preview">
              <div class="flocs-previewHeader">
                <div><div class="flocs-previewTitle">Invoice preview</div></div>
                <div>
                  <div id="flocs-previewTag" class="flocs-previewTag">Waiting for customer…</div>
                  <button id="flocs-convertBtn" class="flocs-convertBtn" type="button" hidden>Convert draft to order</button>
                </div>
              </div>
              <div class="flocs-previewControls">
                <div class="flocs-formSection">
                  <div class="flocs-labelRow"><span>Customer PO</span><span class="flocs-hint">Stored on draft order note & metafield</span></div>
                  <input id="flocs-po" class="flocs-input" type="text" placeholder="PO / reference (optional)" />
                </div>
                <div class="flocs-formSection">
                  <div class="flocs-labelRow"><span>Delivery type</span><span class="flocs-hint" id="flocs-deliveryHint">Uses customer metafield custom.delivery_method if set</span></div>
                  <div class="flocs-radioGroup" id="flocs-deliveryGroup">
                    <label class="flocs-radioPill"><input type="radio" name="delivery" value="shipping" checked /><span>Shipping</span></label>
                    <label class="flocs-radioPill"><input type="radio" name="delivery" value="pickup" /><span>Pickup</span></label>
                    <label class="flocs-radioPill"><input type="radio" name="delivery" value="delivery" /><span>Delivery</span></label>
                  </div>
                </div>
                <div class="flocs-formSection">
                  <div class="flocs-labelRow"><span>Delivery date</span></div>
                  <input id="flocs-deliveryDate" class="flocs-input" type="date" />
                </div>
                <div class="flocs-formSection">
                  <div class="flocs-labelRow"><span>Shipping quote summary</span></div>
                  <div class="flocs-actionsRow">
                    <div id="flocs-shippingSummary" class="flocs-badgeShipping">No shipping quote yet.</div>
                    <button id="flocs-calcShip" class="flocs-actionBtn" type="button"><span>⛟</span><span>Calculate shipping</span></button>
                  </div>
                </div>
                <div class="flocs-formSection">
                  <div class="flocs-labelRow"><span>Quantity mode</span></div>
                  <div class="flocs-radioGroup" id="flocs-qtyModeGroup">
                    <label class="flocs-radioPill"><input type="radio" name="qtyMode" value="units" checked /><span>Units</span></label>
                    <label class="flocs-radioPill"><input type="radio" name="qtyMode" value="cartons" /><span>Cartons</span></label>
                  </div>
                  <div class="flocs-radioGroup" id="flocs-cartonSizeGroup" hidden style="margin-top:.4rem">
                    <label class="flocs-radioPill"><input type="radio" name="cartonUnits" value="12" checked /><span>12 / carton</span></label>
                    <label class="flocs-radioPill"><input type="radio" name="cartonUnits" value="24" /><span>24 / carton</span></label>
                  </div>
                </div>
              </div>
              <div class="flocs-invoice" id="flocs-invoice"></div>
            </aside>
          </main>
        </div>

        <!-- Global toast -->
        <div id="flocs-toast" class="flocs-toast"></div>

        
    </div>

    <div class="flView" id="viewStock" hidden>
      <div class="stock-shell">
        <section class="stock-card stock-overviewCard">
          <div class="stock-inventoryHeader">
            <div>
              <h2>Inventory</h2>
              <p class="stock-muted">Shopify-style compact inventory list with stock take and draft buying.</p>
            </div>
            <div class="stock-tabToggle" role="tablist" aria-label="Inventory tabs">
              <button id="stock-tabCount" class="stock-tabBtn is-active" type="button" data-tab="count">Count</button>
              <button id="stock-tabBuy" class="stock-tabBtn" type="button" data-tab="buy">Buy</button>
            </div>
          </div>

          <div class="stock-toolbar">
            <input id="stock-search" class="stock-input" type="text" placeholder="Search SKU, product or flavour..." />
            <div class="stock-toolbarGroup">
              <span class="stock-toolbarLabel">Location</span>
              <select id="stock-location" class="stock-select"></select>
            </div>
            <div class="stock-toolbarGroup">
              <span class="stock-toolbarLabel">Transfer</span>
              <select id="stock-transferLocation" class="stock-select"></select>
            </div>
            <div class="stock-modeToggle">
              <button class="stock-modeBtn" type="button" data-mode="read">Read</button>
              <button class="stock-modeBtn is-active" type="button" data-mode="take">Count</button>
              <button class="stock-modeBtn" type="button" data-mode="receive">Receive</button>
            </div>
            <span class="stock-pill" id="stock-modeLabel">Mode: Stock take</span>
          </div>

          <div id="stock-flavourFilters" class="stock-chipRow"></div>

          <table class="stock-table" id="stock-table">
            <thead>
              <tr>
                <th>SKU</th>
                <th>Item</th>
                <th>Flavour</th>
                <th>Current</th>
                <th>Count 1</th>
                <th>Count 2</th>
                <th>Count 3</th>
                <th>Total</th>
                <th>Quick</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="stock-tableBody"></tbody>
          </table>

          <div id="stock-buyPanel" class="stock-buyPanel" hidden>
            <div class="stock-subsection">
              <h3>Purchase orders (raw materials)</h3>
              <form id="po-batchForm" class="stock-form">
                <div class="stock-formRow">
                  <label class="stock-field">
                    <span>PO name</span>
                    <input id="po-batchName" class="stock-input" type="text" placeholder="e.g. Monthly raw-material restock" />
                  </label>
                </div>
                <div class="stock-formRow stock-formRow--compact">
                  <label class="stock-field">
                    <span>Raw material SKU</span>
                    <select id="po-skuSelect" class="stock-select"></select>
                  </label>
                  <label class="stock-field">
                    <span>Order qty</span>
                    <input id="po-skuQty" class="stock-input" type="number" min="1" step="1" placeholder="0" />
                  </label>
                  <button id="po-addLine" class="stock-actionBtn stock-actionBtn--inline" type="button">Add line</button>
                </div>
                <div class="stock-lines">
                  <table class="stock-table stock-table--compact">
                    <thead>
                      <tr>
                        <th>SKU</th>
                        <th>Material</th>
                        <th>Qty</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody id="po-linesTable"></tbody>
                  </table>
                </div>
                <div class="stock-formActions">
                  <button id="po-createBatch" class="stock-primaryBtn" type="button">Create draft PO</button>
                  <button id="po-clearLines" class="stock-ghostBtn" type="button">Clear lines</button>
                </div>
              </form>
              <div id="po-batchList" class="stock-batchList"></div>
            </div>
          </div>

          <h3 class="stock-logTitle">Activity log</h3>
          <div id="stock-log" class="stock-log"></div>
        </section>
      </div>
    </div>

    <div class="flView" id="viewPriceManager" hidden>
      <div class="pm-shell">
          <header class="pm-header">
            <div class="pm-titleBlock">
              <div class="pm-title">Price Manager</div>
              <div class="pm-sub">Manage tier pricing per SKU and sync to Shopify metafields + storefront.</div>
            </div>
          </header>

          <section class="pm-panel">
            <div class="pm-row">
              <span id="pmStatus" class="pm-muted">Loading product list…</span>
            </div>

            <div style="overflow:auto;">
              <table class="pm-productsTable">
                <thead>
                  <tr>
                    <th>SKU</th>
                    <th>Title</th>
                    <th>Public</th>
                    <th>Agent</th>
                    <th>Retailer</th>
                    <th>Export</th>
                    <th>Private</th>
                    <th>FKB</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="pmTableBody">
                  <tr>
                    <td colspan="9" class="pm-muted">Loading products…</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>
        </div>
        <div id="pmToast" class="pm-toast"></div>
    </div>

      </main>
    </div>
  </div>

  <div class="slotEgg" id="slotEgg" hidden aria-hidden="true">
    <div class="slotEgg__backdrop" data-slot-close></div>
    <div class="slotEgg__panel" role="dialog" aria-modal="true" aria-labelledby="slotEggTitle">
      <div class="slotEgg__header">
        <h2 class="slotEgg__title" id="slotEggTitle">Secret Spice Slots</h2>
        <button class="slotEgg__close" type="button" data-slot-close aria-label="Close spice slots">✕</button>
      </div>
      <p class="slotEgg__hint">Pull the lever and see which blend lines up.</p>
      <div class="slotEgg__reels">
        <div class="slotEgg__reel" data-slot-reel>🌶️ Chilli</div>
        <div class="slotEgg__reel" data-slot-reel>🧄 Garlic</div>
        <div class="slotEgg__reel" data-slot-reel>🧂 Sea Salt</div>
      </div>
      <div class="slotEgg__actions">
        <button class="slotEgg__spin" id="slotSpinBtn" type="button">Spin</button>
        <div class="slotEgg__result" id="slotResult">Match all three for a “house blend” win.</div>
      </div>
    </div>
  </div>

<!-- PRINT-ONLY MOUNT -->
<div class="printSheetWrapper"><div id="printMount"></div></div>

<script type="module" src="/app.js"></script>
</body> 
</html>
