#viewFlocs{
      --bg:#0b0f1a;
      --panel:#0f172a;
      --panel-soft:#111827;
      --panel-strong:#1f2937;
      --accent:#22d3ee;
      --accent-soft:rgba(34,211,238,.18);
      --accent-strong:#a855f7;
      --danger:#f87171;
      --text:#e2e8f0;
      --muted:#94a3b8;
      --radius-lg:.85rem;
      --radius-md:.6rem;
      --sans:-apple-system,BlinkMacSystemFont,Inter,Roboto,"Segoe UI",system-ui,sans-serif;
      --mono:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
    }
    #viewFlocs *{ box-sizing:border-box; }

    #viewFlocs{
      margin:0;
      min-height:100vh;
      background:radial-gradient(circle at 12% 12%, rgba(34,211,238,.18) 0%, rgba(11,15,26,0) 55%),
                 radial-gradient(circle at 88% 10%, rgba(168,85,247,.15) 0%, rgba(11,15,26,0) 60%),
                 var(--bg);
      color:var(--text);
      font-family:var(--sans);
    }

    #viewFlocs .flocs-shell{
      max-width:1200px;
      margin:0 auto;
      padding:1.25rem .9rem 2.5rem;
    }

    #viewFlocs header.flocs-header{
      display:flex;
      flex-wrap:wrap;
      align-items:flex-start;
      justify-content:space-between;
      gap:.75rem;
      margin-bottom:1rem;
    }

    #viewFlocs .flocs-titleBlock{
      display:flex;
      flex-direction:column;
      gap:.35rem;
    }
    #viewFlocs .flocs-title{
      font-size:1.15rem;
      font-weight:700;
      letter-spacing:.04em;
      text-transform:uppercase;
    }
    #viewFlocs .flocs-sub{
      font-size:.8rem;
      color:var(--muted);
    }
    #viewFlocs .flocs-badge{
      display:inline-flex;
      align-items:center;
      gap:.45rem;
      background:var(--panel);
      border-radius:999px;
      padding:.25rem .75rem;
      font-size:.75rem;
      border:1px solid var(--panel-strong);
      color:var(--text);
    }
    #viewFlocs .flocs-headerActions{
      display:flex;
      align-items:center;
      gap:.5rem;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    #viewFlocs .flocs-linkBtn{
      display:inline-flex;
      align-items:center;
      gap:.4rem;
      padding:.3rem .75rem;
      border-radius:999px;
      border:1px solid var(--panel-strong);
      background:var(--panel);
      color:var(--text);
      font-size:.75rem;
      text-decoration:none;
      transition:all .2s ease;
    }
    #viewFlocs .flocs-linkBtn:hover{
      border-color:rgba(56,189,248,.7);
      color:#0c4a6e;
    }
    #viewFlocs .flocs-dot{
      width:.45rem; height:.45rem;
      border-radius:999px;
      background:#22c55e;
      box-shadow:0 0 10px rgba(34,197,94,.9);
    }

    #viewFlocs .flocs-layout{
      display:flex;
      gap:1rem;
      align-items:flex-start;
    }
    @media (max-width:900px) {
      #viewFlocs .flocs-layout{ flex-direction:column; }
    }

    #viewFlocs .flocs-panel{
      background:linear-gradient(140deg, rgba(17,24,39,.96), rgba(15,23,42,.7));
      border-radius:var(--radius-lg);
      border:1px solid rgba(148,163,184,.2);
      box-shadow:0 18px 40px rgba(3,7,18,.55);
      padding:1rem;
      position:relative;
    }

    #viewFlocs .flocs-panel.form{
      flex:1.15;
      min-width:0;
    }
    #viewFlocs .flocs-sidebar{
      flex:0 0 260px;
      max-width:260px;
      min-width:220px;
      padding:.75rem;
      background:radial-gradient(circle at 0 0,rgba(34,211,238,.2),transparent 70%),
                 linear-gradient(140deg, rgba(17,24,39,.96), rgba(15,23,42,.75));
    }
    #viewFlocs .flocs-sidebar .flocs-previewHeader{
      flex-direction:column;
      align-items:flex-start;
      gap:.5rem;
    }
    #viewFlocs .flocs-sidebar .flocs-previewTag{
      align-self:flex-start;
    }
    #viewFlocs .flocs-sidebar .flocs-invoice{
      font-size:.7rem;
      line-height:1.2;
      max-height:70vh;
      overflow:auto;
    }
    #viewFlocs .flocs-sidebar .flocs-invoiceTable th,
    #viewFlocs .flocs-sidebar .flocs-invoiceTable td{
      font-size:.65rem;
      padding:.35rem .4rem;
    }
    #viewFlocs .flocs-sidebar .flocs-invoiceTotalsRow{
      font-size:.65rem;
    }
    @media (max-width:900px) {
      #viewFlocs .flocs-sidebar{
        width:100%;
        max-width:none;
        min-width:0;
      }
    }

    #viewFlocs .flocs-formSection{
      margin-bottom:.9rem;
      padding-bottom:.75rem;
      border-bottom:1px dashed rgba(148,163,184,.45);
    }
    #viewFlocs .flocs-formSection:last-of-type{
      border-bottom:none;
      padding-bottom:0;
      margin-bottom:0;
    }

    #viewFlocs .flocs-labelRow{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      margin-bottom:.35rem;
      gap:.5rem;
    }
    #viewFlocs .flocs-labelRow span{
      font-size:.8rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.06em;
      color:var(--muted);
    }
    #viewFlocs .flocs-hint{
      font-size:.7rem;
      color:var(--muted);
    }

    #viewFlocs .flocs-input, #viewFlocs .flocs-select{
      width:100%;
      border-radius:.55rem;
      border:1px solid var(--panel-strong);
      background:rgba(15,23,42,.75);
      color:var(--text);
      padding:.45rem .6rem;
      font-size:.85rem;
      outline:none;
      font-family:var(--sans);
    }
    #viewFlocs .flocs-input:focus, #viewFlocs .flocs-select:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(56,189,248,.4);
    }

    #viewFlocs .flocs-row{
      display:flex;
      gap:.5rem;
    }
    #viewFlocs .flocs-row > *{ flex:1; }
    @media (max-width:700px) {
      #viewFlocs .flocs-row{ flex-direction:column; }
    }

    #viewFlocs .flocs-customerResults{
      margin-top:.4rem;
      max-height:190px;
      overflow:auto;
      border-radius:.6rem;
      border:1px solid var(--panel-strong);
      background:rgba(15,23,42,.8);
    }
    #viewFlocs .flocs-subSection{
      margin-top:.6rem;
      padding:.6rem;
      border-radius:.6rem;
      border:1px dashed rgba(148,163,184,.55);
      background:rgba(15,23,42,.6);
    }
    #viewFlocs .flocs-customerItem{
      padding:.4rem .55rem;
      font-size:.8rem;
      cursor:pointer;
      border-bottom:1px solid rgba(148,163,184,.2);
    }
    #viewFlocs .flocs-customerItem:hover{
      background:rgba(34,211,238,.12);
    }
    #viewFlocs .flocs-customerItem strong{
      display:block;
      margin-bottom:.15rem;
    }
    #viewFlocs .flocs-customerItem-meta{
      color:var(--muted);
      font-size:.7rem;
    }
    #viewFlocs .flocs-customerEmpty{
      padding:.5rem .6rem;
      font-size:.75rem;
      color:var(--muted);
    }
    #viewFlocs .flocs-inlineActions{
      display:flex;
      gap:.5rem;
      align-items:center;
      flex-wrap:wrap;
    }
    #viewFlocs .flocs-miniBtn{
      padding:.3rem .65rem;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.5);
      background:rgba(15,23,42,.9);
      color:var(--text);
      font-size:.7rem;
      text-transform:uppercase;
      letter-spacing:.05em;
      cursor:pointer;
    }
    #viewFlocs .flocs-miniBtn:hover{
      border-color:var(--accent);
      color:var(--accent);
    }

    #viewFlocs .flocs-chipRow{
      display:flex;
      flex-wrap:wrap;
      gap:.35rem;
      margin-top:.3rem;
    }
    #viewFlocs .flocs-chip{
      padding:.18rem .55rem;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.4);
      font-size:.7rem;
      color:var(--muted);
    }

    #viewFlocs .flocs-radioGroup{
      display:flex;
      flex-wrap:wrap;
      gap:.45rem;
    }
    #viewFlocs .flocs-radioPill{
      position:relative;
      display:inline-flex;
      align-items:center;
      gap:.35rem;
      padding:.25rem .6rem;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.4);
      font-size:.8rem;
      cursor:pointer;
      user-select:none;
    }
    #viewFlocs .flocs-radioPill input{
      appearance:none;
      width:.7rem; height:.7rem;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.5);
      background:transparent;
      position:relative;
    }
    #viewFlocs .flocs-radioPill input:checked{
      border-color:#22c55e;
      box-shadow:0 0 0 2px rgba(34,197,94,.5);
    }
    #viewFlocs .flocs-radioPill input:checked::after{
      content:"";
      position:absolute;
      inset:.13rem;
      border-radius:inherit;
      background:#22c55e;
    }

    #viewFlocs .flocs-addressPreview{
      margin-top:.35rem;
      padding:.45rem .55rem;
      border-radius:.45rem;
      font-size:.75rem;
      border:1px dashed rgba(148,163,184,.55);
      background:rgba(15,23,42,.6);
      white-space:pre-line;
    }

    #viewFlocs .flocs-productsTable{
      width:100%;
      border-collapse:collapse;
      font-size:.78rem;
      border-radius:.6rem;
      overflow:hidden;
      border:1px solid var(--panel-strong);
      background:rgba(15,23,42,.75);
    }
    #viewFlocs .flocs-productsTable thead{
      background:var(--panel-soft);
    }
    #viewFlocs .flocs-productsTable th, #viewFlocs .flocs-productsTable td{
      padding:.3rem .45rem;
      border-bottom:1px solid rgba(148,163,184,.2);
    }
    #viewFlocs .flocs-productsTable th{
      text-align:left;
      font-weight:600;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.06em;
      font-size:.7rem;
    }
    #viewFlocs .flocs-productsTable tbody tr:last-child td{
      border-bottom:none;
    }
    #viewFlocs .flocs-productsTable tbody tr{
      border-left:3px solid var(--flavour-color, transparent);
    }
    #viewFlocs .flocs-productsTable tbody tr:hover{
      background:rgba(34,211,238,.08);
    }
    #viewFlocs .flocs-productsTable code{
      font-family:var(--mono);
      font-size:.78rem;
    }
    #viewFlocs .flocs-flavourTag{
      --flavour-color:#22d3ee;
      display:inline-flex;
      align-items:center;
      gap:.35rem;
      padding:.1rem .5rem;
      border-radius:999px;
      border:1px solid var(--flavour-color);
      background:rgba(15,23,42,.75);
      color:#f8fafc;
      font-size:.65rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.05em;
      white-space:nowrap;
    }
    #viewFlocs .flocs-flavourTag::before{
      content:"";
      width:.45rem;
      height:.45rem;
      border-radius:999px;
      background:var(--flavour-color);
      box-shadow:0 0 10px var(--flavour-color);
    }
    #viewFlocs .flocs-filterRow{
      display:flex;
      flex-wrap:wrap;
      gap:.5rem;
      margin-top:.4rem;
      align-items:center;
    }
    #viewFlocs .flocs-filterRow .flocs-select{
      min-width:170px;
      flex:1;
    }
    #viewFlocs .flocs-filterHint{
      font-size:.7rem;
      color:var(--muted);
    }
    #viewFlocs .flocs-qtyInput{
      width:4.2rem;
      border-radius:.45rem;
      border:1px solid var(--panel-strong);
      background:rgba(15,23,42,.8);
      color:var(--text);
      padding:.2rem .35rem;
      font-size:.78rem;
      text-align:right;
      outline:none;
      font-family:var(--sans);
    }
    #viewFlocs .flocs-qtyInput:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(56,189,248,.45);
    }
    #viewFlocs .flocs-qtyWrap{
      display:flex;
      align-items:center;
      gap:.25rem;
      justify-content:flex-end;
    }
    #viewFlocs .flocs-qtyBtn{
      width:1.8rem;
      height:1.8rem;
      border-radius:999px;
      border:1px solid var(--panel-strong);
      background:rgba(15,23,42,.75);
      color:var(--text);
      cursor:pointer;
      font-weight:700;
    }
    #viewFlocs .flocs-qtyBtn:hover{
      border-color:var(--accent);
      color:var(--accent);
    }
    #viewFlocs .flocs-productResults{
      margin-top:.45rem;
      max-height:180px;
      overflow:auto;
      border-radius:.6rem;
      border:1px solid var(--panel-strong);
      background:rgba(15,23,42,.8);
    }
    #viewFlocs .flocs-productItem{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:.5rem;
      padding:.4rem .55rem;
      border-bottom:1px solid rgba(148,163,184,.2);
      font-size:.78rem;
    }
    #viewFlocs .flocs-productItem:last-child{
      border-bottom:none;
    }
    #viewFlocs .flocs-productMeta{
      color:var(--muted);
      font-size:.7rem;
      display:flex;
      gap:.35rem;
      flex-wrap:wrap;
      align-items:center;
    }

    #viewFlocs .flocs-actionsRow{
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      gap:.5rem;
      margin-top:.55rem;
    }

    #viewFlocs .flocs-btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.35rem;
      border-radius:999px;
      border:1px solid rgba(34,211,238,.4);
      font-size:.8rem;
      padding:.4rem .9rem;
      cursor:pointer;
      font-weight:600;
      letter-spacing:.05em;
      text-transform:uppercase;
      background:rgba(34,211,238,.12);
      color:var(--text);
    }
    #viewFlocs .flocs-btn span.icon{
      font-size:1rem;
      line-height:1;
    }
    #viewFlocs .flocs-btn.primary{
      background:var(--accent);
      color:#04121e;
      box-shadow:0 10px 24px rgba(34,211,238,.35);
    }
    #viewFlocs .flocs-btn.primary:disabled{
      opacity:.4;
      cursor:default;
    }

    #viewFlocs .flocs-badgeShipping{
      font-size:.75rem;
      color:var(--text);
    }

    #viewFlocs .flocs-errors{
      margin-top:.4rem;
      font-size:.72rem;
      color:var(--danger);
      white-space:pre-line;
    }

    /* === Preview "invoice" card === */
    #viewFlocs .flocs-previewHeader{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:.75rem;
      margin-bottom:.6rem;
    }
    #viewFlocs .flocs-previewTitle{
      font-size:.9rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.08em;
    }
    #viewFlocs .flocs-previewTag{
      padding:.18rem .45rem;
      border-radius:999px;
      font-size:.7rem;
      background:var(--panel-soft);
      border:1px solid var(--panel-strong);
      color:var(--text);
    }

    #viewFlocs .flocs-overrideWrap{
      display:flex;
      align-items:center;
      gap:.35rem;
    }
    #viewFlocs .flocs-overrideBtn{
      border-radius:999px;
      border:1px solid var(--panel-strong);
      background:rgba(15,23,42,.8);
      color:var(--text);
      font-size:.65rem;
      padding:.2rem .5rem;
      cursor:pointer;
      text-transform:uppercase;
      letter-spacing:.05em;
    }
    #viewFlocs .flocs-overrideBtn.is-active{
      border-color:rgba(56,189,248,.8);
      background:var(--accent-soft);
      color:var(--text);
      box-shadow:0 0 0 2px rgba(34,211,238,.2);
    }
    #viewFlocs .flocs-overrideInput{
      width:5.5rem;
      border-radius:.45rem;
      border:1px solid var(--panel-strong);
      background:rgba(15,23,42,.8);
      color:var(--text);
      padding:.2rem .35rem;
      font-size:.75rem;
      text-align:right;
      outline:none;
    }
    #viewFlocs .flocs-overrideInput:disabled{
      opacity:.55;
      background:rgba(15,23,42,.45);
    }
    #viewFlocs .flocs-overrideHint{
      font-size:.65rem;
      color:var(--muted);
      margin-top:.2rem;
    }
    #viewFlocs .flocs-invoice{
      background:#f9fafb;
      color:#020617;
      border-radius:.7rem;
      padding:.75rem;
      font-size:.78rem;
    }
    #viewFlocs .flocs-invoiceHeader{
      display:flex;
      justify-content:space-between;
      gap:.5rem;
      margin-bottom:.4rem;
    }
    #viewFlocs .flocs-invoiceBrand{
      font-weight:700;
      font-size:.9rem;
    }
    #viewFlocs .flocs-invoiceSub{
      font-size:.72rem;
      color:#4b5563;
    }
    #viewFlocs .flocs-invoiceCols{
      display:flex;
      gap:.75rem;
      margin-bottom:.5rem;
    }
    #viewFlocs .flocs-invoiceCol{
      flex:1;
      white-space:pre-line;
      font-size:.74rem;
      color:#111827;
    }
    #viewFlocs .flocs-invoiceColTitle{
      font-weight:600;
      margin-bottom:.2rem;
      text-transform:uppercase;
      letter-spacing:.06em;
      font-size:.68rem;
      color:#6b7280;
    }
    #viewFlocs .flocs-invoiceTable{
      width:100%;
      border-collapse:collapse;
      font-size:.74rem;
      margin-bottom:.4rem;
    }
    #viewFlocs .flocs-invoiceTable th, #viewFlocs .flocs-invoiceTable td{
      padding:.25rem .2rem;
      border-bottom:1px solid #e5e7eb;
    }
    #viewFlocs .flocs-invoiceTable th{
      text-align:left;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.06em;
      font-size:.66rem;
      color:#6b7280;
    }
    #viewFlocs .flocs-invoiceTable td:last-child, #viewFlocs .flocs-invoiceTable th:last-child{
      text-align:right;
    }
    #viewFlocs .flocs-invoiceTotals{
      font-size:.75rem;
    }
    #viewFlocs .flocs-invoiceTotalsRow{
      display:flex;
      justify-content:space-between;
    }
    #viewFlocs .flocs-invoiceTotalsRow span.label{
      color:#4b5563;
    }
    #viewFlocs .flocs-invoiceTotalsRow span.val{
      font-weight:600;
    }
    #viewFlocs .flocs-invoiceNote{
      margin-top:.35rem;
      font-size:.7rem;
      color:#6b7280;
    }

    #viewFlocs .flocs-toast{
      position:fixed;
      right:1rem;
      bottom:1rem;
      padding:.7rem .9rem;
      border-radius:.75rem;
      font-size:.78rem;
      background:rgba(15,23,42,.96);
      border:1px solid rgba(34,197,94,.6);
      color:#bbf7d0;
      max-width:260px;
      box-shadow:0 18px 60px rgba(0,0,0,.8);
      z-index:40;
      display:none;
    }

    /* === Ready glow & central confirm CTA === */
    #viewFlocs .flocs-shell.flocs-ready .flocs-panel.form, #viewFlocs .flocs-shell.flocs-ready .flocs-panel.flocs-sidebar{
      box-shadow:
        0 0 0 1px rgba(34,197,94,.65),
        0 0 0 5px rgba(22,163,74,.45),
        0 24px 70px rgba(22,163,74,.5);
      border-color:rgba(74,222,128,.7);
    }

    #viewFlocs .flocs-confirmOverlay{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      pointer-events:none;
      z-index:30;
      transition:opacity .15s ease;
      opacity:0;
    }
    #viewFlocs .flocs-shell.flocs-ready .flocs-confirmOverlay{
      opacity:1;
      pointer-events:auto;
    }
    #viewFlocs .flocs-shell.flocs-ready ~ .flocs-confirmOverlay{
      opacity:1;
      pointer-events:auto;
    }

    #viewFlocs .flocs-confirmBtn{
      min-width:220px;
      border-radius:999px;
      border:none;
      padding:.7rem 1.4rem;
      font-size:.9rem;
      font-weight:700;
      text-transform:uppercase;
      letter-spacing:.12em;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.6rem;
      background:var(--accent-strong);
      color:#022c22;
      box-shadow:0 0 0 2px rgba(187,247,208,.7),
                 0 24px 70px rgba(22,163,74,.7);
      cursor:pointer;
    }
    #viewFlocs .flocs-confirmBtn span.icon{
      font-size:1.1rem;
    }
    #viewFlocs .flocs-confirmBtn:disabled{
      opacity:.6;
      cursor:default;
      box-shadow:0 0 0 2px rgba(148,163,184,.7),
                 0 18px 45px rgba(15,23,42,.9);
    }
    #viewFlocs .flocs-confirmActions{
      display:flex;
      align-items:center;
      gap:.75rem;
    }
    #viewFlocs .flocs-disarmBtn{
      border-radius:999px;
      border:1px solid rgba(248,113,113,.8);
      background:rgba(248,113,113,.15);
      color:#fecaca;
      padding:.55rem 1rem;
      font-size:.8rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.08em;
      cursor:pointer;
    }
    #viewFlocs .flocs-armBtn{
      border-radius:999px;
      border:1px solid rgba(56,189,248,.7);
      background:rgba(56,189,248,.16);
      color:#e0f2fe;
      padding:.35rem .9rem;
      font-size:.7rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.08em;
      cursor:pointer;
    }
    #viewFlocs .flocs-convertBtn{
      border-radius:999px;
      border:1px solid rgba(14,165,233,.85);
      background:rgba(14,165,233,.18);
      color:#0c4a6e;
      padding:.35rem .9rem;
      font-size:.7rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.08em;
      cursor:pointer;
    }
    #viewFlocs .flocs-createOrderBtn{
      border-radius:999px;
      border:1px solid rgba(34,197,94,.85);
      background:rgba(34,197,94,.16);
      color:#065f46;
      padding:.35rem .9rem;
      font-size:.7rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.08em;
      cursor:pointer;
    }
